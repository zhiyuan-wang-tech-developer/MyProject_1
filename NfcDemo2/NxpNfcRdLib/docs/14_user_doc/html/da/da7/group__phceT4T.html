<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.12"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>NXP NFC Reader Library: NFC Forum Type 4A Card Emulation</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">NXP NFC Reader Library
   &#160;<span id="projectnumber">v4.040.05.011646</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.12 -->
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('da/da7/group__phceT4T.html','../../');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#groups">Modules</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">NFC Forum Type 4A Card Emulation<div class="ingroups"><a class="el" href="../../d7/d49/group__phce.html">Host Card Emulation</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>This component implements the card emulation of NFC Forum Type 4A Tag.  
<a href="#details">More...</a></p>
<div class="dynheader">
Collaboration diagram for NFC Forum Type 4A Card Emulation:</div>
<div class="dyncontent">
<center><table><tr><td><img src="../../da/da7/group__phceT4T.png" border="0" alt="" usemap="#da_2da7_2group____phceT4T"/>
<map name="da_2da7_2group____phceT4T" id="da_2da7_2group____phceT4T">
<area shape="rect" id="node1" href="../../d7/dbd/group__phceT4T__Sw.html" title="Component : Software" alt="" coords="416,13,567,39"/>
<area shape="rect" id="node3" href="../../d7/d49/group__phce.html" title="This Layer Contains implementation of HCE component. " alt="" coords="5,13,148,39"/>
</map>
</td></tr></table></center>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="groups"></a>
Modules</h2></td></tr>
<tr class="memitem:d7/dbd/group__phceT4T__Sw"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/dbd/group__phceT4T__Sw.html">Component : Software</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga6b3640195452e665d92bd2a2405949aa"><td class="memItemLeft" align="right" valign="top"><a id="ga6b3640195452e665d92bd2a2405949aa"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/da7/group__phceT4T.html#ga6b3640195452e665d92bd2a2405949aa">PHCE_T4T_CC_FILE_ID</a>&#160;&#160;&#160;0xE103U</td></tr>
<tr class="memdesc:ga6b3640195452e665d92bd2a2405949aa"><td class="mdescLeft">&#160;</td><td class="mdescRight">CC (Capability Container) file ID as per NFC Forum Specification. <br /></td></tr>
<tr class="separator:ga6b3640195452e665d92bd2a2405949aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ga1a278f972ee837e90169e802b9d42acc"><td class="memItemLeft" align="right" valign="top">typedef phStatus_t(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/da7/group__phceT4T.html#ga1a278f972ee837e90169e802b9d42acc">phceT4T_AppCallback_t</a>) (<a class="el" href="../../d7/d83/group__ph__Typedefs.html#gaba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> bState, <a class="el" href="../../d7/d83/group__ph__Typedefs.html#ga273cf69d639a59973b6019625df33e30">uint16_t</a> wRxOption, <a class="el" href="../../d7/d83/group__ph__Typedefs.html#gaba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> *pRxData, <a class="el" href="../../d7/d83/group__ph__Typedefs.html#ga273cf69d639a59973b6019625df33e30">uint16_t</a> wRxDataLen, <a class="el" href="../../d7/d83/group__ph__Typedefs.html#ga273cf69d639a59973b6019625df33e30">uint16_t</a> *pStatusWord, <a class="el" href="../../d7/d83/group__ph__Typedefs.html#gaba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> **ppTxData, <a class="el" href="../../d7/d83/group__ph__Typedefs.html#ga273cf69d639a59973b6019625df33e30">uint16_t</a> *pTxDataLen)</td></tr>
<tr class="memdesc:ga1a278f972ee837e90169e802b9d42acc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Application callback to handle proprietary commands and UPDATE BINARY. This should be implemented by the user if proprietary means are needed to write to NDEF file and/or proprietary file(s) which may be on EEPROM or to handle proprietary commands.  <a href="#ga1a278f972ee837e90169e802b9d42acc">More...</a><br /></td></tr>
<tr class="separator:ga1a278f972ee837e90169e802b9d42acc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gac5730508b97560ca2f69bc315e176914"><td class="memItemLeft" align="right" valign="top">phStatus_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/da7/group__phceT4T.html#gac5730508b97560ca2f69bc315e176914">phceT4T_SetElementaryFile</a> (void *pDataParams, <a class="el" href="../../d7/d83/group__ph__Typedefs.html#gaba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> bFileType, <a class="el" href="../../d7/d83/group__ph__Typedefs.html#gaba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> *pFile, <a class="el" href="../../d7/d83/group__ph__Typedefs.html#ga273cf69d639a59973b6019625df33e30">uint16_t</a> wFileId, <a class="el" href="../../d7/d83/group__ph__Typedefs.html#ga435d1572bf3f880d55459d9805097f62">uint32_t</a> dwFileSize, <a class="el" href="../../d7/d83/group__ph__Typedefs.html#ga435d1572bf3f880d55459d9805097f62">uint32_t</a> dwContentLen)</td></tr>
<tr class="memdesc:gac5730508b97560ca2f69bc315e176914"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set a supported Elementary File (EF).  <a href="#gac5730508b97560ca2f69bc315e176914">More...</a><br /></td></tr>
<tr class="separator:gac5730508b97560ca2f69bc315e176914"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae0ec0aafc52127714dedd45e0338ea1f"><td class="memItemLeft" align="right" valign="top">phStatus_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/da7/group__phceT4T.html#gae0ec0aafc52127714dedd45e0338ea1f">phceT4T_Activate</a> (void *pDataParams)</td></tr>
<tr class="memdesc:gae0ec0aafc52127714dedd45e0338ea1f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Activate T4T card emulation functionality.  <a href="#gae0ec0aafc52127714dedd45e0338ea1f">More...</a><br /></td></tr>
<tr class="separator:gae0ec0aafc52127714dedd45e0338ea1f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabb51c13921a3ade58cfc3b4699705c3a"><td class="memItemLeft" align="right" valign="top">phStatus_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/da7/group__phceT4T.html#gabb51c13921a3ade58cfc3b4699705c3a">phceT4T_ProcessCmd</a> (void *pDataParams, <a class="el" href="../../d7/d83/group__ph__Typedefs.html#ga273cf69d639a59973b6019625df33e30">uint16_t</a> wOption, <a class="el" href="../../d7/d83/group__ph__Typedefs.html#gaba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> *pRxData, <a class="el" href="../../d7/d83/group__ph__Typedefs.html#ga273cf69d639a59973b6019625df33e30">uint16_t</a> wRxDataLen, <a class="el" href="../../d7/d83/group__ph__Typedefs.html#ga273cf69d639a59973b6019625df33e30">uint16_t</a> *pStatusWord, <a class="el" href="../../d7/d83/group__ph__Typedefs.html#gaba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> **ppTxData, <a class="el" href="../../d7/d83/group__ph__Typedefs.html#ga273cf69d639a59973b6019625df33e30">uint16_t</a> *pTxDataLen)</td></tr>
<tr class="memdesc:gabb51c13921a3ade58cfc3b4699705c3a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Validate and process the received C-APDU (Command Application Protocol Data Unit).  <a href="#gabb51c13921a3ade58cfc3b4699705c3a">More...</a><br /></td></tr>
<tr class="separator:gabb51c13921a3ade58cfc3b4699705c3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1f49814fa674b1db5b24f81a29434736"><td class="memItemLeft" align="right" valign="top">phStatus_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/da7/group__phceT4T.html#ga1f49814fa674b1db5b24f81a29434736">phceT4T_AppProcessCmd</a> (void *pDataParams, <a class="el" href="../../da/da7/group__phceT4T.html#ga1a278f972ee837e90169e802b9d42acc">phceT4T_AppCallback_t</a> pAppCallback)</td></tr>
<tr class="memdesc:ga1f49814fa674b1db5b24f81a29434736"><td class="mdescLeft">&#160;</td><td class="mdescRight">Application process command.  <a href="#ga1f49814fa674b1db5b24f81a29434736">More...</a><br /></td></tr>
<tr class="separator:ga1f49814fa674b1db5b24f81a29434736"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga632ea61d0cfa78722b1685701e88ff5a"><td class="memItemLeft" align="right" valign="top">phStatus_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/da7/group__phceT4T.html#ga632ea61d0cfa78722b1685701e88ff5a">phceT4T_GetSelectedFileInfo</a> (void *pDataParams, <a class="el" href="../../d7/d83/group__ph__Typedefs.html#ga273cf69d639a59973b6019625df33e30">uint16_t</a> *pFileId, <a class="el" href="../../d7/d83/group__ph__Typedefs.html#gaba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> **ppFile, <a class="el" href="../../d7/d83/group__ph__Typedefs.html#ga435d1572bf3f880d55459d9805097f62">uint32_t</a> *pFileSize, <a class="el" href="../../d7/d83/group__ph__Typedefs.html#gaba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> *pWriteAccess, <a class="el" href="../../d7/d83/group__ph__Typedefs.html#ga435d1572bf3f880d55459d9805097f62">uint32_t</a> *pFileOffset)</td></tr>
<tr class="memdesc:ga632ea61d0cfa78722b1685701e88ff5a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get information about currently selected file.  <a href="#ga632ea61d0cfa78722b1685701e88ff5a">More...</a><br /></td></tr>
<tr class="separator:ga632ea61d0cfa78722b1685701e88ff5a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga387d7d27fba7788c6ee852e649787fac"><td class="memItemLeft" align="right" valign="top">phStatus_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/da7/group__phceT4T.html#ga387d7d27fba7788c6ee852e649787fac">phceT4T_Reset</a> (void *pDataParams)</td></tr>
<tr class="memdesc:ga387d7d27fba7788c6ee852e649787fac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reset the tag's state variables.  <a href="#ga387d7d27fba7788c6ee852e649787fac">More...</a><br /></td></tr>
<tr class="separator:ga387d7d27fba7788c6ee852e649787fac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad68eb22ef02050f922c69dba8ace8626"><td class="memItemLeft" align="right" valign="top">phStatus_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/da7/group__phceT4T.html#gad68eb22ef02050f922c69dba8ace8626">phceT4T_SetConfig</a> (void *pDataParams, <a class="el" href="../../d7/d83/group__ph__Typedefs.html#ga273cf69d639a59973b6019625df33e30">uint16_t</a> wConfig, <a class="el" href="../../d7/d83/group__ph__Typedefs.html#ga273cf69d639a59973b6019625df33e30">uint16_t</a> wValue)</td></tr>
<tr class="memdesc:gad68eb22ef02050f922c69dba8ace8626"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set value of the specified <a class="el" href="../../da/da7/group__phceT4T.html#configurations">configuration</a>identifier".  <a href="#gad68eb22ef02050f922c69dba8ace8626">More...</a><br /></td></tr>
<tr class="separator:gad68eb22ef02050f922c69dba8ace8626"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga52acbcaa7dcabb3e1afebbe49d614c89"><td class="memItemLeft" align="right" valign="top">phStatus_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/da7/group__phceT4T.html#ga52acbcaa7dcabb3e1afebbe49d614c89">phceT4T_GetConfig</a> (void *pDataParams, <a class="el" href="../../d7/d83/group__ph__Typedefs.html#ga273cf69d639a59973b6019625df33e30">uint16_t</a> wConfig, <a class="el" href="../../d7/d83/group__ph__Typedefs.html#ga273cf69d639a59973b6019625df33e30">uint16_t</a> *pValue)</td></tr>
<tr class="memdesc:ga52acbcaa7dcabb3e1afebbe49d614c89"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get value of the specified <a class="el" href="../../da/da7/group__phceT4T.html#configurations">configuration</a>identifier".  <a href="#ga52acbcaa7dcabb3e1afebbe49d614c89">More...</a><br /></td></tr>
<tr class="separator:ga52acbcaa7dcabb3e1afebbe49d614c89"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Tag States</h2></td></tr>
<tr><td class="ititle" colspan="2"><p><a class="anchor" id="amgrp396df082703376b1a821ff120a045c44"></a><a class="anchor" id="states"></a></p>
</td></tr>
<tr class="memitem:gaa3f7fb4ac8b5aeaf33d5e997ca792138"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/da7/group__phceT4T.html#gaa3f7fb4ac8b5aeaf33d5e997ca792138">PHCE_T4T_STATE_NONE</a>&#160;&#160;&#160;0x00U</td></tr>
<tr class="memdesc:gaa3f7fb4ac8b5aeaf33d5e997ca792138"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initial state.  <a href="#gaa3f7fb4ac8b5aeaf33d5e997ca792138">More...</a><br /></td></tr>
<tr class="separator:gaa3f7fb4ac8b5aeaf33d5e997ca792138"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga19add5f1112c0a3232214cced862af6d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/da7/group__phceT4T.html#ga19add5f1112c0a3232214cced862af6d">PHCE_T4T_STATE_CC_FILE_CREATED</a>&#160;&#160;&#160;0x01U</td></tr>
<tr class="memdesc:ga19add5f1112c0a3232214cced862af6d"><td class="mdescLeft">&#160;</td><td class="mdescRight">CC (Capability container) file created.  <a href="#ga19add5f1112c0a3232214cced862af6d">More...</a><br /></td></tr>
<tr class="separator:ga19add5f1112c0a3232214cced862af6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga28bfc86d8a49f7ecfd61f8fe6f5a89dd"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/da7/group__phceT4T.html#ga28bfc86d8a49f7ecfd61f8fe6f5a89dd">PHCE_T4T_STATE_NDEF_FILE_CREATED</a>&#160;&#160;&#160;0x02U</td></tr>
<tr class="memdesc:ga28bfc86d8a49f7ecfd61f8fe6f5a89dd"><td class="mdescLeft">&#160;</td><td class="mdescRight">NDEF file created.  <a href="#ga28bfc86d8a49f7ecfd61f8fe6f5a89dd">More...</a><br /></td></tr>
<tr class="separator:ga28bfc86d8a49f7ecfd61f8fe6f5a89dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8a83fa10e0ee103893722c191b746ab9"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/da7/group__phceT4T.html#ga8a83fa10e0ee103893722c191b746ab9">PHCE_T4T_STATE_NDEF_APP_SELECTED</a>&#160;&#160;&#160;0x03U</td></tr>
<tr class="memdesc:ga8a83fa10e0ee103893722c191b746ab9"><td class="mdescLeft">&#160;</td><td class="mdescRight">NDEF application selected.  <a href="#ga8a83fa10e0ee103893722c191b746ab9">More...</a><br /></td></tr>
<tr class="separator:ga8a83fa10e0ee103893722c191b746ab9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac5d5614306b8f5dff148db8de9b19018"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/da7/group__phceT4T.html#gac5d5614306b8f5dff148db8de9b19018">PHCE_T4T_STATE_FILE_SELECTED</a>&#160;&#160;&#160;0x04U</td></tr>
<tr class="memdesc:gac5d5614306b8f5dff148db8de9b19018"><td class="mdescLeft">&#160;</td><td class="mdescRight">File selected.  <a href="#gac5d5614306b8f5dff148db8de9b19018">More...</a><br /></td></tr>
<tr class="separator:gac5d5614306b8f5dff148db8de9b19018"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3928857b62b2b7c48135642d697416b3"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/da7/group__phceT4T.html#ga3928857b62b2b7c48135642d697416b3">PHCE_T4T_STATE_FILE_READ</a>&#160;&#160;&#160;0x05U</td></tr>
<tr class="memdesc:ga3928857b62b2b7c48135642d697416b3"><td class="mdescLeft">&#160;</td><td class="mdescRight">File read.  <a href="#ga3928857b62b2b7c48135642d697416b3">More...</a><br /></td></tr>
<tr class="separator:ga3928857b62b2b7c48135642d697416b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga75a1ab6f112abda8179d9e0d060ab22d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/da7/group__phceT4T.html#ga75a1ab6f112abda8179d9e0d060ab22d">PHCE_T4T_STATE_FILE_UPDATE</a>&#160;&#160;&#160;0x06U</td></tr>
<tr class="memdesc:ga75a1ab6f112abda8179d9e0d060ab22d"><td class="mdescLeft">&#160;</td><td class="mdescRight">File update.  <a href="#ga75a1ab6f112abda8179d9e0d060ab22d">More...</a><br /></td></tr>
<tr class="separator:ga75a1ab6f112abda8179d9e0d060ab22d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3eacebbc62db61f5a3178b419ae3a2bb"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/da7/group__phceT4T.html#ga3eacebbc62db61f5a3178b419ae3a2bb">PHCE_T4T_STATE_PROPRIETARY</a>&#160;&#160;&#160;0x07U</td></tr>
<tr class="memdesc:ga3eacebbc62db61f5a3178b419ae3a2bb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Proprietary command received.  <a href="#ga3eacebbc62db61f5a3178b419ae3a2bb">More...</a><br /></td></tr>
<tr class="separator:ga3eacebbc62db61f5a3178b419ae3a2bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Receive Options</h2></td></tr>
<tr><td class="ititle" colspan="2"><p><a class="anchor" id="amgrpab6cfceaa8698666a7f0f3e6088f9208"></a>These options are given as input to <a class="el" href="../../da/da7/group__phceT4T.html#gabb51c13921a3ade58cfc3b4699705c3a">phceT4T_ProcessCmd</a> and <a class="el" href="../../da/da7/group__phceT4T.html#appcallback">application callback</a> (if used) to indicate if the received data (C-APDU) given to it for processing is partial or complete.</p>
<p><a class="anchor" id="options"></a>The data (C-APDU) to be processed is received using <a class="el" href="../../d9/ddf/group__phpalI14443p4mC.html#ga03d1c85e077032ecafa2f758ae8d5f84">phpalI14443p4mC_Receive</a>. </p>
</td></tr>
<tr class="memitem:gacc9ef488558342103c77e9f8b2c31ea9"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/da7/group__phceT4T.html#gacc9ef488558342103c77e9f8b2c31ea9">PHCE_T4T_RXDEFAULT</a>&#160;&#160;&#160;0x00U</td></tr>
<tr class="memdesc:gacc9ef488558342103c77e9f8b2c31ea9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default option.  <a href="#gacc9ef488558342103c77e9f8b2c31ea9">More...</a><br /></td></tr>
<tr class="separator:gacc9ef488558342103c77e9f8b2c31ea9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadbee160102eafabb0941b2da7146eedd"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/da7/group__phceT4T.html#gadbee160102eafabb0941b2da7146eedd">PHCE_T4T_RXCHAINING_BUFFER_FIRST</a>&#160;&#160;&#160;0x01U</td></tr>
<tr class="memdesc:gadbee160102eafabb0941b2da7146eedd"><td class="mdescLeft">&#160;</td><td class="mdescRight">First part of partial receive data.  <a href="#gadbee160102eafabb0941b2da7146eedd">More...</a><br /></td></tr>
<tr class="separator:gadbee160102eafabb0941b2da7146eedd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga632d9d0640bfa0727defeb2f2d805c9b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/da7/group__phceT4T.html#ga632d9d0640bfa0727defeb2f2d805c9b">PHCE_T4T_RXCHAINING_BUFFER_CONT</a>&#160;&#160;&#160;0x02U</td></tr>
<tr class="memdesc:ga632d9d0640bfa0727defeb2f2d805c9b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Subsequent part of partial receive data.  <a href="#ga632d9d0640bfa0727defeb2f2d805c9b">More...</a><br /></td></tr>
<tr class="separator:ga632d9d0640bfa0727defeb2f2d805c9b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8a25631142a8f42aad8ced0b55364b20"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/da7/group__phceT4T.html#ga8a25631142a8f42aad8ced0b55364b20">PHCE_T4T_RXCHAINING_BUFFER_LAST</a>&#160;&#160;&#160;0x03U</td></tr>
<tr class="memdesc:ga8a25631142a8f42aad8ced0b55364b20"><td class="mdescLeft">&#160;</td><td class="mdescRight">Last chunk of receive data.  <a href="#ga8a25631142a8f42aad8ced0b55364b20">More...</a><br /></td></tr>
<tr class="separator:ga8a25631142a8f42aad8ced0b55364b20"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Return Status</h2></td></tr>
<tr><td class="ititle" colspan="2"><p><a class="anchor" id="amgrpfdf674cf8946fb2d86e84d91db0ea8a5"></a>Custom return status codes of T4T card emulation layer. </p>
</td></tr>
<tr class="memitem:gad817436e7335e3576892893fb7b9d6cb"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/da7/group__phceT4T.html#gad817436e7335e3576892893fb7b9d6cb">PH_CE_T4T_FAILURE</a>&#160;&#160;&#160;(<a class="el" href="../../d1/d20/group__ph__Status.html#ga43699a93e1352242438de4203b0625c0">PH_ERR_CUSTOM_BEGIN</a> + 0x00U)</td></tr>
<tr class="memdesc:gad817436e7335e3576892893fb7b9d6cb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Failure.  <a href="#gad817436e7335e3576892893fb7b9d6cb">More...</a><br /></td></tr>
<tr class="separator:gad817436e7335e3576892893fb7b9d6cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga673beb1ad7c5a188bed80b1d9a0a6ea5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/da7/group__phceT4T.html#ga673beb1ad7c5a188bed80b1d9a0a6ea5">PH_CE_T4T_SELECT</a>&#160;&#160;&#160;(<a class="el" href="../../d1/d20/group__ph__Status.html#ga43699a93e1352242438de4203b0625c0">PH_ERR_CUSTOM_BEGIN</a> + 0x01U)</td></tr>
<tr class="memdesc:ga673beb1ad7c5a188bed80b1d9a0a6ea5"><td class="mdescLeft">&#160;</td><td class="mdescRight">SELECT command received.  <a href="#ga673beb1ad7c5a188bed80b1d9a0a6ea5">More...</a><br /></td></tr>
<tr class="separator:ga673beb1ad7c5a188bed80b1d9a0a6ea5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadadbfa86625a3704300da6a5d5f10432"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/da7/group__phceT4T.html#gadadbfa86625a3704300da6a5d5f10432">PH_CE_T4T_READ_BINARY</a>&#160;&#160;&#160;(<a class="el" href="../../d1/d20/group__ph__Status.html#ga43699a93e1352242438de4203b0625c0">PH_ERR_CUSTOM_BEGIN</a> + 0x02U)</td></tr>
<tr class="memdesc:gadadbfa86625a3704300da6a5d5f10432"><td class="mdescLeft">&#160;</td><td class="mdescRight">READ BINARY command received.  <a href="#gadadbfa86625a3704300da6a5d5f10432">More...</a><br /></td></tr>
<tr class="separator:gadadbfa86625a3704300da6a5d5f10432"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaabf84968caff0ac61babd5f4fe2d6001"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/da7/group__phceT4T.html#gaabf84968caff0ac61babd5f4fe2d6001">PH_CE_T4T_UPDATE_BINARY</a>&#160;&#160;&#160;(<a class="el" href="../../d1/d20/group__ph__Status.html#ga43699a93e1352242438de4203b0625c0">PH_ERR_CUSTOM_BEGIN</a> + 0x03U)</td></tr>
<tr class="memdesc:gaabf84968caff0ac61babd5f4fe2d6001"><td class="mdescLeft">&#160;</td><td class="mdescRight">UPDATE BINARY command received.  <a href="#gaabf84968caff0ac61babd5f4fe2d6001">More...</a><br /></td></tr>
<tr class="separator:gaabf84968caff0ac61babd5f4fe2d6001"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadf3bf3d727264b2a2f2764f78f2aa545"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/da7/group__phceT4T.html#gadf3bf3d727264b2a2f2764f78f2aa545">PH_CE_T4T_PROPRIETARY</a>&#160;&#160;&#160;(<a class="el" href="../../d1/d20/group__ph__Status.html#ga43699a93e1352242438de4203b0625c0">PH_ERR_CUSTOM_BEGIN</a> + 0x04U)</td></tr>
<tr class="memdesc:gadf3bf3d727264b2a2f2764f78f2aa545"><td class="mdescLeft">&#160;</td><td class="mdescRight">Proprietary command received.  <a href="#gadf3bf3d727264b2a2f2764f78f2aa545">More...</a><br /></td></tr>
<tr class="separator:gadf3bf3d727264b2a2f2764f78f2aa545"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7bb18892b56945c0b3281f7b8e8ce3e1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/da7/group__phceT4T.html#ga7bb18892b56945c0b3281f7b8e8ce3e1">PH_CE_T4T_INVALID_STATE</a>&#160;&#160;&#160;(<a class="el" href="../../d1/d20/group__ph__Status.html#ga43699a93e1352242438de4203b0625c0">PH_ERR_CUSTOM_BEGIN</a> + 0x05U)</td></tr>
<tr class="memdesc:ga7bb18892b56945c0b3281f7b8e8ce3e1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tag in invalid state to execute the requested operation.  <a href="#ga7bb18892b56945c0b3281f7b8e8ce3e1">More...</a><br /></td></tr>
<tr class="separator:ga7bb18892b56945c0b3281f7b8e8ce3e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
File Types</h2></td></tr>
<tr><td class="ititle" colspan="2"><p><a class="anchor" id="amgrpf12b42eece54a56ffab836a42eb37488"></a>File types to be specified in <a class="el" href="../../da/da7/group__phceT4T.html#gac5730508b97560ca2f69bc315e176914">phceT4T_SetElementaryFile</a>. </p>
</td></tr>
<tr class="memitem:ga22551ed3294329158c52d65d9742524a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/da7/group__phceT4T.html#ga22551ed3294329158c52d65d9742524a">PHCE_T4T_FILE_CC</a>&#160;&#160;&#160;0x00U</td></tr>
<tr class="memdesc:ga22551ed3294329158c52d65d9742524a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Capability Container (CC) File.  <a href="#ga22551ed3294329158c52d65d9742524a">More...</a><br /></td></tr>
<tr class="separator:ga22551ed3294329158c52d65d9742524a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf63d56bc164c7e89919c5a81733c57eb"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/da7/group__phceT4T.html#gaf63d56bc164c7e89919c5a81733c57eb">PHCE_T4T_FILE_NDEF</a>&#160;&#160;&#160;0x01U</td></tr>
<tr class="memdesc:gaf63d56bc164c7e89919c5a81733c57eb"><td class="mdescLeft">&#160;</td><td class="mdescRight">NFC Data Exchange Format (NDEF) File.  <a href="#gaf63d56bc164c7e89919c5a81733c57eb">More...</a><br /></td></tr>
<tr class="separator:gaf63d56bc164c7e89919c5a81733c57eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae3f1575c25bb3df4fd99092093d3c192"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/da7/group__phceT4T.html#gae3f1575c25bb3df4fd99092093d3c192">PHCE_T4T_FILE_PROPRIETARY</a>&#160;&#160;&#160;0x02U</td></tr>
<tr class="memdesc:gae3f1575c25bb3df4fd99092093d3c192"><td class="mdescLeft">&#160;</td><td class="mdescRight">Proprietary File.  <a href="#gae3f1575c25bb3df4fd99092093d3c192">More...</a><br /></td></tr>
<tr class="separator:gae3f1575c25bb3df4fd99092093d3c192"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Configuration Types</h2></td></tr>
<tr><td class="ititle" colspan="2"><p><a class="anchor" id="amgrpa764a3fd57460a01fd13b31187be745d"></a>These options shall be used along with <a class="el" href="../../da/da7/group__phceT4T.html#gad68eb22ef02050f922c69dba8ace8626">phceT4T_SetConfig</a> and <a class="el" href="../../da/da7/group__phceT4T.html#ga52acbcaa7dcabb3e1afebbe49d614c89">phceT4T_GetConfig</a> to configure Type 4A card emulation layer.</p>
<p><a class="anchor" id="configurations"></a></p>
</td></tr>
<tr class="memitem:ga16ab13012d7bc6918b34df37ba551f8c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/da7/group__phceT4T.html#ga16ab13012d7bc6918b34df37ba551f8c">PHCE_T4T_CONFIG_HANDLE_UPDATEBINARY</a>&#160;&#160;&#160;0x00U</td></tr>
<tr class="memdesc:ga16ab13012d7bc6918b34df37ba551f8c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enable/Disable handling of UPDATE BINARY inside card emulation layer.  <a href="#ga16ab13012d7bc6918b34df37ba551f8c">More...</a><br /></td></tr>
<tr class="separator:ga16ab13012d7bc6918b34df37ba551f8c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga66de4c9cbc26c6e410daf9332dffec63"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/da7/group__phceT4T.html#ga66de4c9cbc26c6e410daf9332dffec63">PHCE_T4T_CONFIG_RECEIVE_PROPRIETARY</a>&#160;&#160;&#160;0x01U</td></tr>
<tr class="memdesc:ga66de4c9cbc26c6e410daf9332dffec63"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enable/Disable support for proprietary command.  <a href="#ga66de4c9cbc26c6e410daf9332dffec63">More...</a><br /></td></tr>
<tr class="separator:ga66de4c9cbc26c6e410daf9332dffec63"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7f355b20d8c0806d2a21d3665584063b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/da7/group__phceT4T.html#ga7f355b20d8c0806d2a21d3665584063b">PHCE_T4T_CONFIG_NDEF_FILE_ID</a>&#160;&#160;&#160;0x02U</td></tr>
<tr class="memdesc:ga7f355b20d8c0806d2a21d3665584063b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set/Get NDEF file ID.  <a href="#ga7f355b20d8c0806d2a21d3665584063b">More...</a><br /></td></tr>
<tr class="separator:ga7f355b20d8c0806d2a21d3665584063b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3a35f7f34ab08d2e5b8f3f770dabab77"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/da7/group__phceT4T.html#ga3a35f7f34ab08d2e5b8f3f770dabab77">PHCE_T4T_CONFIG_NDEF_FILE_READ_ACCESS</a>&#160;&#160;&#160;0x03U</td></tr>
<tr class="memdesc:ga3a35f7f34ab08d2e5b8f3f770dabab77"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set/Get NDEF file read access value.  <a href="#ga3a35f7f34ab08d2e5b8f3f770dabab77">More...</a><br /></td></tr>
<tr class="separator:ga3a35f7f34ab08d2e5b8f3f770dabab77"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae4983843db9654d7a559e8780e61349f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/da7/group__phceT4T.html#gae4983843db9654d7a559e8780e61349f">PHCE_T4T_CONFIG_NDEF_FILE_WRITE_ACCESS</a>&#160;&#160;&#160;0x04U</td></tr>
<tr class="memdesc:gae4983843db9654d7a559e8780e61349f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set/Get NDEF file write access value.  <a href="#gae4983843db9654d7a559e8780e61349f">More...</a><br /></td></tr>
<tr class="separator:gae4983843db9654d7a559e8780e61349f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga25c5892de4ee4d365dfe2ecdba775f71"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/da7/group__phceT4T.html#ga25c5892de4ee4d365dfe2ecdba775f71">PHCE_T4T_CONFIG_MLE</a>&#160;&#160;&#160;0x05U</td></tr>
<tr class="memdesc:ga25c5892de4ee4d365dfe2ecdba775f71"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set/Get value of MLe (Maximum data that can be read in one Read Binary command).  <a href="#ga25c5892de4ee4d365dfe2ecdba775f71">More...</a><br /></td></tr>
<tr class="separator:ga25c5892de4ee4d365dfe2ecdba775f71"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabc60381716d418ebb99d44be5e7df307"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/da7/group__phceT4T.html#gabc60381716d418ebb99d44be5e7df307">PHCE_T4T_CONFIG_MLC</a>&#160;&#160;&#160;0x06U</td></tr>
<tr class="memdesc:gabc60381716d418ebb99d44be5e7df307"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set/Get value of MLc (Maximum data that can be written in one Update Binary command).  <a href="#gabc60381716d418ebb99d44be5e7df307">More...</a><br /></td></tr>
<tr class="separator:gabc60381716d418ebb99d44be5e7df307"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>This component implements the card emulation of NFC Forum Type 4A Tag. </p>
<p>Implementation is based on NFC Forum Type 4 Tag Operation Specification version 2.0. SELECT, READ BINARY and UPDATE BINARY commands are supported as per NFC Type 4 Tag Operation Specification.</p>
<p>This layer follows a multi-threaded RTOS based design using one <a class="el" href="../../da/da7/group__phceT4T.html#gae0ec0aafc52127714dedd45e0338ea1f">reader library thread</a> and one <a class="el" href="../../da/da7/group__phceT4T.html#ga1f49814fa674b1db5b24f81a29434736">application thread</a>. Application thread along with <a class="el" href="../../da/da7/group__phceT4T.html#ga1a278f972ee837e90169e802b9d42acc">application callback</a> can be used for handling of UPDATE BINARY and proprietary commands.</p>
<p>A pictorial representation of reader library thread and application thread used for card emulation is shown below. Refer <a class="el" href="../../da/da7/group__phceT4T.html#gac5730508b97560ca2f69bc315e176914">function documentation</a> for more information.</p>
<div class="image">
<img src="../../hce_combined_threads.png" alt="hce_combined_threads.png"/>
</div>
<p>As UPDATE BINARY and proprietary commands are handled by the <a class="el" href="../../da/da7/group__phceT4T.html#ga1f49814fa674b1db5b24f81a29434736">phceT4T_AppProcessCmd</a> in application thread, application shall use some synchronization mechanism (like mutex or semaphore) as shown in the diagram to synchronize entry to and exit from <a class="el" href="../../da/da7/group__phceT4T.html#gae0ec0aafc52127714dedd45e0338ea1f">phceT4T_Activate</a> and <a class="el" href="../../da/da7/group__phceT4T.html#ga1f49814fa674b1db5b24f81a29434736">phceT4T_AppProcessCmd</a>.</p>
<p>Waiting Time eXtension (WTX) is handled internally by <a class="el" href="../../da/da7/group__phceT4T.html#gae0ec0aafc52127714dedd45e0338ea1f">phceT4T_Activate</a> in reader library thread. The reader library thread should be of high priority than the application thread for proper handling of WTX. In non RTOS single threaded environment this layer can be used with limited features, i.e. with no support for WTX. </p>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="gaa3f7fb4ac8b5aeaf33d5e997ca792138"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa3f7fb4ac8b5aeaf33d5e997ca792138">&sect;&nbsp;</a></span>PHCE_T4T_STATE_NONE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PHCE_T4T_STATE_NONE&#160;&#160;&#160;0x00U</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initial state. </p>
<p>State after <a class="el" href="../../d7/dbd/group__phceT4T__Sw.html#initialization">Initialization</a> of this layer. </p>

</div>
</div>
<a id="ga19add5f1112c0a3232214cced862af6d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga19add5f1112c0a3232214cced862af6d">&sect;&nbsp;</a></span>PHCE_T4T_STATE_CC_FILE_CREATED</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PHCE_T4T_STATE_CC_FILE_CREATED&#160;&#160;&#160;0x01U</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>CC (Capability container) file created. </p>
<p>State after creation of CC (Capability Container) file <a class="el" href="../../da/da7/group__phceT4T.html#ga22551ed3294329158c52d65d9742524a" title="Capability Container (CC) File. ">PHCE_T4T_FILE_CC</a> using <a class="el" href="../../da/da7/group__phceT4T.html#gac5730508b97560ca2f69bc315e176914">phceT4T_SetElementaryFile</a>. </p>

</div>
</div>
<a id="ga28bfc86d8a49f7ecfd61f8fe6f5a89dd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga28bfc86d8a49f7ecfd61f8fe6f5a89dd">&sect;&nbsp;</a></span>PHCE_T4T_STATE_NDEF_FILE_CREATED</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PHCE_T4T_STATE_NDEF_FILE_CREATED&#160;&#160;&#160;0x02U</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>NDEF file created. </p>
<p>State after creation of NDEF file <a class="el" href="../../da/da7/group__phceT4T.html#gaf63d56bc164c7e89919c5a81733c57eb" title="NFC Data Exchange Format (NDEF) File. ">PHCE_T4T_FILE_NDEF</a> using <a class="el" href="../../da/da7/group__phceT4T.html#gac5730508b97560ca2f69bc315e176914">phceT4T_SetElementaryFile</a>. </p>

</div>
</div>
<a id="ga8a83fa10e0ee103893722c191b746ab9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8a83fa10e0ee103893722c191b746ab9">&sect;&nbsp;</a></span>PHCE_T4T_STATE_NDEF_APP_SELECTED</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PHCE_T4T_STATE_NDEF_APP_SELECTED&#160;&#160;&#160;0x03U</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>NDEF application selected. </p>
<p>State after receiving a valid SELECT request to select NFC NDEF application. </p>

</div>
</div>
<a id="gac5d5614306b8f5dff148db8de9b19018"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac5d5614306b8f5dff148db8de9b19018">&sect;&nbsp;</a></span>PHCE_T4T_STATE_FILE_SELECTED</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PHCE_T4T_STATE_FILE_SELECTED&#160;&#160;&#160;0x04U</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>File selected. </p>
<p>State after receiving a valid SELECT request to select a file present inside the NDEF application. </p>

</div>
</div>
<a id="ga3928857b62b2b7c48135642d697416b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3928857b62b2b7c48135642d697416b3">&sect;&nbsp;</a></span>PHCE_T4T_STATE_FILE_READ</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PHCE_T4T_STATE_FILE_READ&#160;&#160;&#160;0x05U</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>File read. </p>
<p>State after receiving a valid READ BINARY request. </p>

</div>
</div>
<a id="ga75a1ab6f112abda8179d9e0d060ab22d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga75a1ab6f112abda8179d9e0d060ab22d">&sect;&nbsp;</a></span>PHCE_T4T_STATE_FILE_UPDATE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PHCE_T4T_STATE_FILE_UPDATE&#160;&#160;&#160;0x06U</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>File update. </p>
<p>State after receiving a valid UPDATE BINARY request. </p>

</div>
</div>
<a id="ga3eacebbc62db61f5a3178b419ae3a2bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3eacebbc62db61f5a3178b419ae3a2bb">&sect;&nbsp;</a></span>PHCE_T4T_STATE_PROPRIETARY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PHCE_T4T_STATE_PROPRIETARY&#160;&#160;&#160;0x07U</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Proprietary command received. </p>
<p>State after receiving a proprietary command (command with unsupported instruction byte). </p>

</div>
</div>
<a id="gacc9ef488558342103c77e9f8b2c31ea9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gacc9ef488558342103c77e9f8b2c31ea9">&sect;&nbsp;</a></span>PHCE_T4T_RXDEFAULT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PHCE_T4T_RXDEFAULT&#160;&#160;&#160;0x00U</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Default option. </p>
<p>Option specified in <a class="el" href="../../da/da7/group__phceT4T.html#gabb51c13921a3ade58cfc3b4699705c3a">phceT4T_ProcessCmd</a> or <a class="el" href="../../da/da7/group__phceT4T.html#appcallback">application callback</a> when <a class="el" href="../../d9/ddf/group__phpalI14443p4mC.html#ga03d1c85e077032ecafa2f758ae8d5f84">phpalI14443p4mC_Receive</a> returns <a class="el" href="../../dc/dce/group__ph__Error.html#ga6632f0657ed69bfa8a8910555a7819ac" title="Returned in case of no error. ">PH_ERR_SUCCESS</a> and the whole received data (complete C-APDU) is given for processing. </p>

</div>
</div>
<a id="gadbee160102eafabb0941b2da7146eedd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gadbee160102eafabb0941b2da7146eedd">&sect;&nbsp;</a></span>PHCE_T4T_RXCHAINING_BUFFER_FIRST</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PHCE_T4T_RXCHAINING_BUFFER_FIRST&#160;&#160;&#160;0x01U</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>First part of partial receive data. </p>
<p>Option specified in <a class="el" href="../../da/da7/group__phceT4T.html#gabb51c13921a3ade58cfc3b4699705c3a">phceT4T_ProcessCmd</a> or <a class="el" href="../../da/da7/group__phceT4T.html#appcallback">application callback</a> when <a class="el" href="../../d9/ddf/group__phpalI14443p4mC.html#ga03d1c85e077032ecafa2f758ae8d5f84">phpalI14443p4mC_Receive</a> returns with <a class="el" href="../../dc/dce/group__ph__Error.html#gac7a715d85b93541d936b8d4df833f9ae" title="Rx chaining is not complete, further action needed. ">PH_ERR_SUCCESS_CHAINING</a> for first time and this partial received data (first part of C-APDU) is given for processing. This option indicates that the received data is not complete and only first part of data is given for processing. </p>

</div>
</div>
<a id="ga632d9d0640bfa0727defeb2f2d805c9b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga632d9d0640bfa0727defeb2f2d805c9b">&sect;&nbsp;</a></span>PHCE_T4T_RXCHAINING_BUFFER_CONT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PHCE_T4T_RXCHAINING_BUFFER_CONT&#160;&#160;&#160;0x02U</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Subsequent part of partial receive data. </p>
<p>Option specified in <a class="el" href="../../da/da7/group__phceT4T.html#gabb51c13921a3ade58cfc3b4699705c3a">phceT4T_ProcessCmd</a> or <a class="el" href="../../da/da7/group__phceT4T.html#appcallback">application callback</a> when <a class="el" href="../../d9/ddf/group__phpalI14443p4mC.html#ga03d1c85e077032ecafa2f758ae8d5f84">phpalI14443p4mC_Receive</a> returns with <a class="el" href="../../dc/dce/group__ph__Error.html#gac7a715d85b93541d936b8d4df833f9ae" title="Rx chaining is not complete, further action needed. ">PH_ERR_SUCCESS_CHAINING</a> for second time or more and this partial received data (subsequent part of C-APDU) is given for processing. This option indicates that the received data is not complete and subsequent part of data is given for processing. </p>

</div>
</div>
<a id="ga8a25631142a8f42aad8ced0b55364b20"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8a25631142a8f42aad8ced0b55364b20">&sect;&nbsp;</a></span>PHCE_T4T_RXCHAINING_BUFFER_LAST</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PHCE_T4T_RXCHAINING_BUFFER_LAST&#160;&#160;&#160;0x03U</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Last chunk of receive data. </p>
<p>Option specified in <a class="el" href="../../da/da7/group__phceT4T.html#gabb51c13921a3ade58cfc3b4699705c3a">phceT4T_ProcessCmd</a> or <a class="el" href="../../da/da7/group__phceT4T.html#appcallback">application callback</a> when <a class="el" href="../../d9/ddf/group__phpalI14443p4mC.html#ga03d1c85e077032ecafa2f758ae8d5f84">phpalI14443p4mC_Receive</a> returns with <a class="el" href="../../dc/dce/group__ph__Error.html#ga6632f0657ed69bfa8a8910555a7819ac" title="Returned in case of no error. ">PH_ERR_SUCCESS</a> after a <a class="el" href="../../dc/dce/group__ph__Error.html#gac7a715d85b93541d936b8d4df833f9ae" title="Rx chaining is not complete, further action needed. ">PH_ERR_SUCCESS_CHAINING</a> in previous receive and this partial received data is given for processing. This option indicates that it is last part of partial receive data. </p>

</div>
</div>
<a id="gad817436e7335e3576892893fb7b9d6cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad817436e7335e3576892893fb7b9d6cb">&sect;&nbsp;</a></span>PH_CE_T4T_FAILURE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PH_CE_T4T_FAILURE&#160;&#160;&#160;(<a class="el" href="../../d1/d20/group__ph__Status.html#ga43699a93e1352242438de4203b0625c0">PH_ERR_CUSTOM_BEGIN</a> + 0x00U)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Failure. </p>
<p>This status code is returned by <a class="el" href="../../da/da7/group__phceT4T.html#gabb51c13921a3ade58cfc3b4699705c3a">phceT4T_ProcessCmd</a> when an unsupported C-APDU (Command Application Protocol Data Unit) is given to it for processing. Supported C-APDUs are SELECT, READ BINARY, UPDATE BINARY and PROPRIETARY (commands with unsupported instruction byte). </p>

</div>
</div>
<a id="ga673beb1ad7c5a188bed80b1d9a0a6ea5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga673beb1ad7c5a188bed80b1d9a0a6ea5">&sect;&nbsp;</a></span>PH_CE_T4T_SELECT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PH_CE_T4T_SELECT&#160;&#160;&#160;(<a class="el" href="../../d1/d20/group__ph__Status.html#ga43699a93e1352242438de4203b0625c0">PH_ERR_CUSTOM_BEGIN</a> + 0x01U)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>SELECT command received. </p>
<p>This status code is returned by <a class="el" href="../../da/da7/group__phceT4T.html#gabb51c13921a3ade58cfc3b4699705c3a">phceT4T_ProcessCmd</a> when a valid SELECT command is given to it for processing and the file is successfully selected. </p>

</div>
</div>
<a id="gadadbfa86625a3704300da6a5d5f10432"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gadadbfa86625a3704300da6a5d5f10432">&sect;&nbsp;</a></span>PH_CE_T4T_READ_BINARY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PH_CE_T4T_READ_BINARY&#160;&#160;&#160;(<a class="el" href="../../d1/d20/group__ph__Status.html#ga43699a93e1352242438de4203b0625c0">PH_ERR_CUSTOM_BEGIN</a> + 0x02U)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>READ BINARY command received. </p>
<p>This status code is returned by <a class="el" href="../../da/da7/group__phceT4T.html#gabb51c13921a3ade58cfc3b4699705c3a">phceT4T_ProcessCmd</a> when a valid READ BINARY command is given to it for processing and the file is successfully read. </p>

</div>
</div>
<a id="gaabf84968caff0ac61babd5f4fe2d6001"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaabf84968caff0ac61babd5f4fe2d6001">&sect;&nbsp;</a></span>PH_CE_T4T_UPDATE_BINARY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PH_CE_T4T_UPDATE_BINARY&#160;&#160;&#160;(<a class="el" href="../../d1/d20/group__ph__Status.html#ga43699a93e1352242438de4203b0625c0">PH_ERR_CUSTOM_BEGIN</a> + 0x03U)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>UPDATE BINARY command received. </p>
<p>This status code is returned by <a class="el" href="../../da/da7/group__phceT4T.html#gabb51c13921a3ade58cfc3b4699705c3a">phceT4T_ProcessCmd</a> when a valid UPDATE BINARY command is given to it for processing. The file will be updated by <a class="el" href="../../da/da7/group__phceT4T.html#gabb51c13921a3ade58cfc3b4699705c3a">phceT4T_ProcessCmd</a> if <a class="el" href="../../da/da7/group__phceT4T.html#ga16ab13012d7bc6918b34df37ba551f8c" title="Enable/Disable handling of UPDATE BINARY inside card emulation layer. ">PHCE_T4T_CONFIG_HANDLE_UPDATEBINARY</a> is enabled else application shall update the file using <a class="el" href="../../da/da7/group__phceT4T.html#ga1f49814fa674b1db5b24f81a29434736">phceT4T_AppProcessCmd</a> or using application callback from application thread. </p>

</div>
</div>
<a id="gadf3bf3d727264b2a2f2764f78f2aa545"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gadf3bf3d727264b2a2f2764f78f2aa545">&sect;&nbsp;</a></span>PH_CE_T4T_PROPRIETARY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PH_CE_T4T_PROPRIETARY&#160;&#160;&#160;(<a class="el" href="../../d1/d20/group__ph__Status.html#ga43699a93e1352242438de4203b0625c0">PH_ERR_CUSTOM_BEGIN</a> + 0x04U)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Proprietary command received. </p>
<p>This status code is returned by <a class="el" href="../../da/da7/group__phceT4T.html#gabb51c13921a3ade58cfc3b4699705c3a">phceT4T_ProcessCmd</a> when a proprietary command (command with unsupported instruction byte) is given to it for processing. If <a class="el" href="../../da/da7/group__phceT4T.html#ga66de4c9cbc26c6e410daf9332dffec63" title="Enable/Disable support for proprietary command. ">PHCE_T4T_CONFIG_RECEIVE_PROPRIETARY</a> is enabled then proprietary command will be sent to application and application can handle it using callback, else unsupported instruction is returned as status to reader. </p>

</div>
</div>
<a id="ga7bb18892b56945c0b3281f7b8e8ce3e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7bb18892b56945c0b3281f7b8e8ce3e1">&sect;&nbsp;</a></span>PH_CE_T4T_INVALID_STATE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PH_CE_T4T_INVALID_STATE&#160;&#160;&#160;(<a class="el" href="../../d1/d20/group__ph__Status.html#ga43699a93e1352242438de4203b0625c0">PH_ERR_CUSTOM_BEGIN</a> + 0x05U)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Tag in invalid state to execute the requested operation. </p>
<p>This status code is returned by <a class="el" href="../../da/da7/group__phceT4T.html#ga632ea61d0cfa78722b1685701e88ff5a">phceT4T_GetSelectedFileInfo</a>, <a class="el" href="../../da/da7/group__phceT4T.html#gad68eb22ef02050f922c69dba8ace8626">phceT4T_SetConfig</a> and <a class="el" href="../../da/da7/group__phceT4T.html#ga52acbcaa7dcabb3e1afebbe49d614c89">phceT4T_GetConfig</a> when card emulation layer is not in a valid state to execute these APIs. </p>

</div>
</div>
<a id="ga22551ed3294329158c52d65d9742524a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga22551ed3294329158c52d65d9742524a">&sect;&nbsp;</a></span>PHCE_T4T_FILE_CC</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PHCE_T4T_FILE_CC&#160;&#160;&#160;0x00U</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Capability Container (CC) File. </p>
<p>This is used in <a class="el" href="../../da/da7/group__phceT4T.html#gac5730508b97560ca2f69bc315e176914">phceT4T_SetElementaryFile</a> to set the CC file. </p>

</div>
</div>
<a id="gaf63d56bc164c7e89919c5a81733c57eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf63d56bc164c7e89919c5a81733c57eb">&sect;&nbsp;</a></span>PHCE_T4T_FILE_NDEF</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PHCE_T4T_FILE_NDEF&#160;&#160;&#160;0x01U</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>NFC Data Exchange Format (NDEF) File. </p>
<p>This is used in <a class="el" href="../../da/da7/group__phceT4T.html#gac5730508b97560ca2f69bc315e176914">phceT4T_SetElementaryFile</a> to set the NDEF file. </p>

</div>
</div>
<a id="gae3f1575c25bb3df4fd99092093d3c192"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae3f1575c25bb3df4fd99092093d3c192">&sect;&nbsp;</a></span>PHCE_T4T_FILE_PROPRIETARY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PHCE_T4T_FILE_PROPRIETARY&#160;&#160;&#160;0x02U</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Proprietary File. </p>
<p>This is used in <a class="el" href="../../da/da7/group__phceT4T.html#gac5730508b97560ca2f69bc315e176914">phceT4T_SetElementaryFile</a> to set a proprietary file. </p>

</div>
</div>
<a id="ga16ab13012d7bc6918b34df37ba551f8c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga16ab13012d7bc6918b34df37ba551f8c">&sect;&nbsp;</a></span>PHCE_T4T_CONFIG_HANDLE_UPDATEBINARY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PHCE_T4T_CONFIG_HANDLE_UPDATEBINARY&#160;&#160;&#160;0x00U</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enable/Disable handling of UPDATE BINARY inside card emulation layer. </p>
<p>Default value is <a class="el" href="../../d1/d20/group__ph__Status.html#ga91ff944f80079b28be5ce5c34a514c36" title="Disabled. ">PH_OFF</a> (disabled). Supported values are <a class="el" href="../../d1/d20/group__ph__Status.html#gafdaa63198988a94adeb606ff144c8033" title="Enabled. ">PH_ON</a> and <a class="el" href="../../d1/d20/group__ph__Status.html#ga91ff944f80079b28be5ce5c34a514c36" title="Disabled. ">PH_OFF</a>. If enabled, the UPDATE BINARY command is processed and file is updated by the <a class="el" href="../../da/da7/group__phceT4T.html#gabb51c13921a3ade58cfc3b4699705c3a">phceT4T_ProcessCmd</a> itself. If disabled, UPDATE BINARY command is only validated and data to be written to file is given to application thread (i.e. <a class="el" href="../../da/da7/group__phceT4T.html#ga1f49814fa674b1db5b24f81a29434736">phceT4T_AppProcessCmd</a>) to update the file. </p>

</div>
</div>
<a id="ga66de4c9cbc26c6e410daf9332dffec63"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga66de4c9cbc26c6e410daf9332dffec63">&sect;&nbsp;</a></span>PHCE_T4T_CONFIG_RECEIVE_PROPRIETARY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PHCE_T4T_CONFIG_RECEIVE_PROPRIETARY&#160;&#160;&#160;0x01U</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enable/Disable support for proprietary command. </p>
<p>Default value is <a class="el" href="../../d1/d20/group__ph__Status.html#ga91ff944f80079b28be5ce5c34a514c36" title="Disabled. ">PH_OFF</a> (disabled). Supported values are <a class="el" href="../../d1/d20/group__ph__Status.html#gafdaa63198988a94adeb606ff144c8033" title="Enabled. ">PH_ON</a> and <a class="el" href="../../d1/d20/group__ph__Status.html#ga91ff944f80079b28be5ce5c34a514c36" title="Disabled. ">PH_OFF</a>. If disabled, unsupported instruction status word is sent back to reader. If enabled, application can handle proprietary commands in application callback <a class="el" href="../../da/da7/group__phceT4T.html#ga1a278f972ee837e90169e802b9d42acc">phceT4T_AppCallback_t</a> of <a class="el" href="../../da/da7/group__phceT4T.html#ga1f49814fa674b1db5b24f81a29434736">phceT4T_AppProcessCmd</a>. </p>

</div>
</div>
<a id="ga7f355b20d8c0806d2a21d3665584063b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7f355b20d8c0806d2a21d3665584063b">&sect;&nbsp;</a></span>PHCE_T4T_CONFIG_NDEF_FILE_ID</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PHCE_T4T_CONFIG_NDEF_FILE_ID&#160;&#160;&#160;0x02U</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set/Get NDEF file ID. </p>
<p>Valid range is between 0001h to E101h, E104h to 3EFFh, 3F01h to 3FFEh and 4000h to FFFEh. NDEF file ID can be updated only after <a class="el" href="../../da/da7/group__phceT4T.html#gac5730508b97560ca2f69bc315e176914">phceT4T_SetElementaryFile</a> is executed for NDEF file <a class="el" href="../../da/da7/group__phceT4T.html#gaf63d56bc164c7e89919c5a81733c57eb" title="NFC Data Exchange Format (NDEF) File. ">PHCE_T4T_FILE_NDEF</a>. </p>

</div>
</div>
<a id="ga3a35f7f34ab08d2e5b8f3f770dabab77"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3a35f7f34ab08d2e5b8f3f770dabab77">&sect;&nbsp;</a></span>PHCE_T4T_CONFIG_NDEF_FILE_READ_ACCESS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PHCE_T4T_CONFIG_NDEF_FILE_READ_ACCESS&#160;&#160;&#160;0x03U</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set/Get NDEF file read access value. </p>
<p>Default is 0x00 (unrestricted read access). Only 0x00 is the supported value as per NFC Forum Type 4 Tag specification. Other values are RFU.</p>
<p>This can be configured only after executing <a class="el" href="../../da/da7/group__phceT4T.html#gac5730508b97560ca2f69bc315e176914">phceT4T_SetElementaryFile</a> for CC file <a class="el" href="../../da/da7/group__phceT4T.html#gaf63d56bc164c7e89919c5a81733c57eb" title="NFC Data Exchange Format (NDEF) File. ">PHCE_T4T_FILE_NDEF</a>. </p>

</div>
</div>
<a id="gae4983843db9654d7a559e8780e61349f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae4983843db9654d7a559e8780e61349f">&sect;&nbsp;</a></span>PHCE_T4T_CONFIG_NDEF_FILE_WRITE_ACCESS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PHCE_T4T_CONFIG_NDEF_FILE_WRITE_ACCESS&#160;&#160;&#160;0x04U</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set/Get NDEF file write access value. </p>
<p>Default is 0x00 (unrestricted write access). Supported values are 0x00 (write access) and 0xFF (no write access, read only). Other values are RFU as per NFC Forum Type 4 Tag Specification.</p>
<p>This can be configured only after executing <a class="el" href="../../da/da7/group__phceT4T.html#gac5730508b97560ca2f69bc315e176914">phceT4T_SetElementaryFile</a> for CC file <a class="el" href="../../da/da7/group__phceT4T.html#gaf63d56bc164c7e89919c5a81733c57eb" title="NFC Data Exchange Format (NDEF) File. ">PHCE_T4T_FILE_NDEF</a>. </p>

</div>
</div>
<a id="ga25c5892de4ee4d365dfe2ecdba775f71"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga25c5892de4ee4d365dfe2ecdba775f71">&sect;&nbsp;</a></span>PHCE_T4T_CONFIG_MLE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PHCE_T4T_CONFIG_MLE&#160;&#160;&#160;0x05U</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set/Get value of MLe (Maximum data that can be read in one Read Binary command). </p>
<p>Default is 0xFFFF. Supported values are from 0x000F - 0xFFFF. Maximum read data length of 0xFFFF is supported only with extended APDUs (Application protocol data units). For short APDUs a maximum read length of 0xFF is supported. This can be configured only after executing <a class="el" href="../../da/da7/group__phceT4T.html#gac5730508b97560ca2f69bc315e176914">phceT4T_SetElementaryFile</a> for CC file <a class="el" href="../../da/da7/group__phceT4T.html#ga22551ed3294329158c52d65d9742524a" title="Capability Container (CC) File. ">PHCE_T4T_FILE_CC</a>.</p>
<p>For more info on short and extended APDUs refer ISO 7816-4 2005, Section 5. </p>

</div>
</div>
<a id="gabc60381716d418ebb99d44be5e7df307"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gabc60381716d418ebb99d44be5e7df307">&sect;&nbsp;</a></span>PHCE_T4T_CONFIG_MLC</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PHCE_T4T_CONFIG_MLC&#160;&#160;&#160;0x06U</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set/Get value of MLc (Maximum data that can be written in one Update Binary command). </p>
<p>Default is 0xFFFF. Supported values are from 0x0001 - 0xFFFF. Maximum write data length of 0xFFFF is supported only with extended APDUs (Application protocol data units). For short APDUs a maximum write data length of 0xFF is supported. This can be configured only after executing <a class="el" href="../../da/da7/group__phceT4T.html#gac5730508b97560ca2f69bc315e176914">phceT4T_SetElementaryFile</a> for CC file <a class="el" href="../../da/da7/group__phceT4T.html#ga22551ed3294329158c52d65d9742524a" title="Capability Container (CC) File. ">PHCE_T4T_FILE_CC</a>.</p>
<p>For more info on short and extended APDUs refer ISO 7816-4 2005, Section 5. </p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="ga1a278f972ee837e90169e802b9d42acc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1a278f972ee837e90169e802b9d42acc">&sect;&nbsp;</a></span>phceT4T_AppCallback_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef phStatus_t(* phceT4T_AppCallback_t) (<a class="el" href="../../d7/d83/group__ph__Typedefs.html#gaba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> bState, <a class="el" href="../../d7/d83/group__ph__Typedefs.html#ga273cf69d639a59973b6019625df33e30">uint16_t</a> wRxOption, <a class="el" href="../../d7/d83/group__ph__Typedefs.html#gaba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> *pRxData, <a class="el" href="../../d7/d83/group__ph__Typedefs.html#ga273cf69d639a59973b6019625df33e30">uint16_t</a> wRxDataLen, <a class="el" href="../../d7/d83/group__ph__Typedefs.html#ga273cf69d639a59973b6019625df33e30">uint16_t</a> *pStatusWord, <a class="el" href="../../d7/d83/group__ph__Typedefs.html#gaba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> **ppTxData, <a class="el" href="../../d7/d83/group__ph__Typedefs.html#ga273cf69d639a59973b6019625df33e30">uint16_t</a> *pTxDataLen)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Application callback to handle proprietary commands and UPDATE BINARY. This should be implemented by the user if proprietary means are needed to write to NDEF file and/or proprietary file(s) which may be on EEPROM or to handle proprietary commands. </p>
<p><a class="anchor" id="appcallback"></a> Application callback, if implemented shall be specified when calling <a class="el" href="../../da/da7/group__phceT4T.html#ga1f49814fa674b1db5b24f81a29434736">phceT4T_AppProcessCmd</a> from application thread. Otherwise a default implementation as provided in <a class="el" href="../../da/da7/group__phceT4T.html#ga1f49814fa674b1db5b24f81a29434736">phceT4T_AppProcessCmd</a> will execute.</p>
<p>For UPDATE BINARY command, data to be written to file and length of data to be written to file is given to callback in pRxData and wRxDataLen respectively. For proprietary commands whole C-APDU (Command application Protocol Data Unit) received from reader is given to callback.</p>
<p>R-APDU (Response Application Protocol Data Unit) to be send back to reader should be updated in ppTxData (data field of R-APDU) and pStatusWord (SW1 and SW2 of R-APDU).</p>
<p>Application callback can get the details of currently selected file using <a class="el" href="../../da/da7/group__phceT4T.html#ga632ea61d0cfa78722b1685701e88ff5a">phceT4T_GetSelectedFileInfo</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">bState</td><td>Tag State indicating received command type (<a class="el" href="../../da/da7/group__phceT4T.html#ga75a1ab6f112abda8179d9e0d060ab22d" title="File update. ">PHCE_T4T_STATE_FILE_UPDATE</a> or <a class="el" href="../../da/da7/group__phceT4T.html#ga3eacebbc62db61f5a3178b419ae3a2bb" title="Proprietary command received. ">PHCE_T4T_STATE_PROPRIETARY</a>).</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">wRxOption</td><td><a class="el" href="../../da/da7/group__phceT4T.html#options">Receive option</a> indicating if received data (pRxData) is partial or complete.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pRxData</td><td>Data received from reader library thread.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">wRxDataLen</td><td>Length of received data (length of pRxData).</td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">pStatusWord</td><td>Status Word to be sent (as part of R-APDU). For example set pStatusWord as 0x9000 when requested command is successfully completed.</td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">ppTxData</td><td>Data to be transmitted (as part of R-APDU). If only status word (pStatusWord) needs to be send as response to reader, set this to NULL. For UPDATE BINARY command this should be set to NULL.</td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">pTxDataLen</td><td>Length of data to be transmitted. Set this to 0 if data to be transmitted (ppTxData) is set to NULL.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Status code </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="../../dc/dce/group__ph__Error.html#ga6632f0657ed69bfa8a8910555a7819ac" title="Returned in case of no error. ">PH_ERR_SUCCESS</a></td><td>Operation successful. </td></tr>
    <tr><td class="paramname"><a class="el" href="../../dc/dce/group__ph__Error.html#ga8c948bb21b2ca6448359723baa7803af" title="An internal error occurred. ">PH_ERR_INTERNAL_ERROR</a></td><td>for all failures.</td></tr>
  </table>
  </dd>
</dl>
<p><b>Usage:</b> </p>
<p><b>Application Callback (Sample Code):</b></p>
<div class="fragment"><div class="line">phStatus_t AppCallback(</div><div class="line">                       <a class="code" href="../../d7/d83/group__ph__Typedefs.html#gaba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> bState,</div><div class="line">                       <a class="code" href="../../d7/d83/group__ph__Typedefs.html#ga273cf69d639a59973b6019625df33e30">uint16_t</a> wRxOption,</div><div class="line">                       <a class="code" href="../../d7/d83/group__ph__Typedefs.html#gaba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> *pRxData,</div><div class="line">                       <a class="code" href="../../d7/d83/group__ph__Typedefs.html#ga273cf69d639a59973b6019625df33e30">uint16_t</a> wRxDataLen,</div><div class="line">                       <a class="code" href="../../d7/d83/group__ph__Typedefs.html#ga273cf69d639a59973b6019625df33e30">uint16_t</a> *pStatusWord,</div><div class="line">                       <a class="code" href="../../d7/d83/group__ph__Typedefs.html#gaba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> **ppTxData,</div><div class="line">                       <a class="code" href="../../d7/d83/group__ph__Typedefs.html#ga273cf69d639a59973b6019625df33e30">uint16_t</a> *pTxDataLen</div><div class="line">                       )</div><div class="line">{</div><div class="line">    phStatus_t status;</div><div class="line">    <a class="code" href="../../d7/d83/group__ph__Typedefs.html#ga273cf69d639a59973b6019625df33e30">uint16_t</a> wSelectedFileId;</div><div class="line">    <a class="code" href="../../d7/d83/group__ph__Typedefs.html#gaba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> *pSelectedFile;</div><div class="line">    <a class="code" href="../../d7/d83/group__ph__Typedefs.html#ga435d1572bf3f880d55459d9805097f62">uint32_t</a> dwSelectedFileSize;</div><div class="line">    <a class="code" href="../../d7/d83/group__ph__Typedefs.html#gaba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> bWriteAccess;</div><div class="line">    <a class="code" href="../../d7/d83/group__ph__Typedefs.html#ga435d1572bf3f880d55459d9805097f62">uint32_t</a> dwFileOffset;</div><div class="line"></div><div class="line">    <span class="comment">// UPDATE BINARY command handling</span></div><div class="line">    <span class="keywordflow">if</span>(bState == <a class="code" href="../../da/da7/group__phceT4T.html#ga75a1ab6f112abda8179d9e0d060ab22d">PHCE_T4T_STATE_FILE_UPDATE</a>)</div><div class="line">    {</div><div class="line">        <span class="comment">// Get Selected file info.</span></div><div class="line">        status = <a class="code" href="../../da/da7/group__phceT4T.html#ga632ea61d0cfa78722b1685701e88ff5a">phceT4T_GetSelectedFileInfo</a>(</div><div class="line">            &amp;sceT4T,</div><div class="line">            &amp;wSelectedFileId,</div><div class="line">            &amp;pSelectedFile,</div><div class="line">            &amp;dwSelectedFileSize,</div><div class="line">            &amp;bWriteAccess,</div><div class="line">            &amp;dwFileOffset);</div><div class="line"></div><div class="line">        <span class="keywordflow">if</span>((status &amp; <a class="code" href="../../d1/d20/group__ph__Status.html#gaaaafe90cfe0fe9a39068172c00a2e07d">PH_ERR_MASK</a>) == <a class="code" href="../../dc/dce/group__ph__Error.html#ga6632f0657ed69bfa8a8910555a7819ac">PH_ERR_SUCCESS</a>)</div><div class="line">        {</div><div class="line">            <span class="comment">// Update file. If specific methods are needed for writing file,</span></div><div class="line">            <span class="comment">// use it here.</span></div><div class="line">            (void)memcpy(&amp;pSelectedFile[dwFileOffset], pRxData, wRxDataLen);</div><div class="line"></div><div class="line">            <span class="comment">// File update success, update out parameters.</span></div><div class="line">            *pStatusWord = 0x9000;</div><div class="line">            *ppTxData = NULL;</div><div class="line">            *pTxDataLen = 0;</div><div class="line">        }</div><div class="line">        <span class="keywordflow">else</span> <span class="comment">// This condition shall never come.</span></div><div class="line">        {</div><div class="line">            <span class="comment">// Could not update file.</span></div><div class="line">            printf(<span class="stringliteral">&quot;Application Thread: Getting file Info failed...\n&quot;</span>);</div><div class="line">            *pStatusWord = 0x6A82;</div><div class="line">            *ppTxData = NULL;</div><div class="line">            *pTxDataLen = 0;</div><div class="line"></div><div class="line">            <span class="comment">// Return same error back.</span></div><div class="line">            <span class="keywordflow">return</span> (status &amp; PH_ERR_MASK);</div><div class="line">        }</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="comment">// Proprietary command handling.</span></div><div class="line">    <span class="keywordflow">else</span></div><div class="line">    {</div><div class="line">     <span class="comment">// DEFAULT: No proprietary support.</span></div><div class="line">        *pStatusWord = 0x6D00; <span class="comment">// Instruction code not supported.</span></div><div class="line">        *ppTxData = NULL;</div><div class="line">        *pTxDataLen = 0;</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="keywordflow">return</span> <a class="code" href="../../dc/dce/group__ph__Error.html#ga6632f0657ed69bfa8a8910555a7819ac">PH_ERR_SUCCESS</a>;</div><div class="line">}</div></div><!-- fragment --> 
</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="gac5730508b97560ca2f69bc315e176914"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac5730508b97560ca2f69bc315e176914">&sect;&nbsp;</a></span>phceT4T_SetElementaryFile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">phStatus_t phceT4T_SetElementaryFile </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>pDataParams</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d7/d83/group__ph__Typedefs.html#gaba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>&#160;</td>
          <td class="paramname"><em>bFileType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d7/d83/group__ph__Typedefs.html#gaba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> *&#160;</td>
          <td class="paramname"><em>pFile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d7/d83/group__ph__Typedefs.html#ga273cf69d639a59973b6019625df33e30">uint16_t</a>&#160;</td>
          <td class="paramname"><em>wFileId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d7/d83/group__ph__Typedefs.html#ga435d1572bf3f880d55459d9805097f62">uint32_t</a>&#160;</td>
          <td class="paramname"><em>dwFileSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d7/d83/group__ph__Typedefs.html#ga435d1572bf3f880d55459d9805097f62">uint32_t</a>&#160;</td>
          <td class="paramname"><em>dwContentLen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set a supported Elementary File (EF). </p>
<p><a class="anchor" id="functions"></a> Supported EF types are:</p><ul>
<li><a class="el" href="../../da/da7/group__phceT4T.html#ga22551ed3294329158c52d65d9742524a" title="Capability Container (CC) File. ">PHCE_T4T_FILE_CC</a></li>
<li><a class="el" href="../../da/da7/group__phceT4T.html#gaf63d56bc164c7e89919c5a81733c57eb" title="NFC Data Exchange Format (NDEF) File. ">PHCE_T4T_FILE_NDEF</a></li>
<li><a class="el" href="../../da/da7/group__phceT4T.html#gae3f1575c25bb3df4fd99092093d3c192" title="Proprietary File. ">PHCE_T4T_FILE_PROPRIETARY</a></li>
</ul>
<p>NDEF file (<a class="el" href="../../da/da7/group__phceT4T.html#gaf63d56bc164c7e89919c5a81733c57eb" title="NFC Data Exchange Format (NDEF) File. ">PHCE_T4T_FILE_NDEF</a>) and proprietary file (<a class="el" href="../../da/da7/group__phceT4T.html#gae3f1575c25bb3df4fd99092093d3c192" title="Proprietary File. ">PHCE_T4T_FILE_PROPRIETARY</a>) can be on EEPROM. If writing to EEPROM needs special methods, then application should handle it using callback <a class="el" href="../../da/da7/group__phceT4T.html#ga1a278f972ee837e90169e802b9d42acc">phceT4T_AppCallback_t</a> in <a class="el" href="../../da/da7/group__phceT4T.html#ga1f49814fa674b1db5b24f81a29434736">phceT4T_AppProcessCmd</a>.</p>
<p>Refer NFC Forum Type 4 Tag Operation Specification version 2.0, Section 5 for details of file size and file content for each file types.</p>
<p>For CC file, if content length is set to 0, then CC file will be initialized with default values. If not set to 0, then content length should be a valid value including NDEF file TLV size and optional proprietary file TLV(s), if present.</p>
<p>CC file and NDEF file are mandatory. CC file <a class="el" href="../../da/da7/group__phceT4T.html#ga22551ed3294329158c52d65d9742524a" title="Capability Container (CC) File. ">PHCE_T4T_FILE_CC</a> should be created first. Followed by NDEF file <a class="el" href="../../da/da7/group__phceT4T.html#gaf63d56bc164c7e89919c5a81733c57eb" title="NFC Data Exchange Format (NDEF) File. ">PHCE_T4T_FILE_NDEF</a>. Proprietary file(s) are optional.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pDataParams</td><td>Pointer to this layer's parameter structure <a class="el" href="../../d7/dbd/group__phceT4T__Sw.html#ga43d66dd8c05b41ce4799b97c96740d2e">phceT4T_Sw_DataParams_t</a>.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">bFileType</td><td>Type of Elementary File. Supported file types are <a class="el" href="../../da/da7/group__phceT4T.html#ga22551ed3294329158c52d65d9742524a" title="Capability Container (CC) File. ">PHCE_T4T_FILE_CC</a>, <a class="el" href="../../da/da7/group__phceT4T.html#gaf63d56bc164c7e89919c5a81733c57eb" title="NFC Data Exchange Format (NDEF) File. ">PHCE_T4T_FILE_NDEF</a> and <a class="el" href="../../da/da7/group__phceT4T.html#gae3f1575c25bb3df4fd99092093d3c192" title="Proprietary File. ">PHCE_T4T_FILE_PROPRIETARY</a>.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pFile</td><td>Pointer to the Elementary File. For example, elementary file can be a pointer to a buffer like aFile[1000].</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">wFileId</td><td>Elementary File ID. IDs as per NFC Forum T4T Specification 2.0 are supported. For CC file, the file ID should be set to the NFC Forum defined value of 0xE103. For NDEF and proprietary files the valid ID ranges are between 0001h to E101h, E104h to 3EFFh, 3F01h to 3FFEh and 4000h to FFFEh.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">dwFileSize</td><td>Size of elementary file. For example, if aFile[1000] is set as the elementary file then dwFileSize should be set to 1000.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">dwContentLen</td><td>Actual content length in elementary file. This specifies the length of actual valid content present in file. For example if aFile[1000] = {0x00, 0x02, 0x03, 0x00} is set as the elementary file then dwContentLen should be set to 4 and dwFileSize should be set to 1000.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Status code </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="../../dc/dce/group__ph__Error.html#ga6632f0657ed69bfa8a8910555a7819ac" title="Returned in case of no error. ">PH_ERR_SUCCESS</a></td><td>Operation successful. </td></tr>
    <tr><td class="paramname"><a class="el" href="../../dc/dce/group__ph__Error.html#ga1633909d9301520a863fc8e9d185f9bc" title="Invalid parameter supplied. ">PH_ERR_INVALID_PARAMETER</a></td><td>Parameter value is invalid. An input parameter is invalid. </td></tr>
    <tr><td class="paramname"><a class="el" href="../../dc/dce/group__ph__Error.html#ga7cdeb5fe953e5d2673ed5b273ca02b39" title="Invalid data parameters supplied (layer id check failed). ">PH_ERR_INVALID_DATA_PARAMS</a></td><td>Invalid data parameter. The provided data parameter (pDataParams) is invalid or this layer is not <a class="el" href="../../d7/dbd/group__phceT4T__Sw.html#initialization">initialized</a>. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gae0ec0aafc52127714dedd45e0338ea1f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae0ec0aafc52127714dedd45e0338ea1f">&sect;&nbsp;</a></span>phceT4T_Activate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">phStatus_t phceT4T_Activate </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>pDataParams</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Activate T4T card emulation functionality. </p>
<p>This shall be called from the reader library thread. This API calls <a class="el" href="../../d9/ddf/group__phpalI14443p4mC.html#ga03d1c85e077032ecafa2f758ae8d5f84">phpalI14443p4mC_Receive</a> to receive data from reader and pass it to <a class="el" href="../../da/da7/group__phceT4T.html#gabb51c13921a3ade58cfc3b4699705c3a">phceT4T_ProcessCmd</a> for processing the received C-APDU (Command Application Protocol Data Unit). After processing, it sends the R-APDU (Response Application Protocol Data Unit) to reader using <a class="el" href="../../d9/ddf/group__phpalI14443p4mC.html#gacebf6b9dfb711ae5ed4a5d8983a93a6d">phpalI14443p4mC_Transmit</a>.</p>
<p>Based on the configuration options <a class="el" href="../../da/da7/group__phceT4T.html#ga16ab13012d7bc6918b34df37ba551f8c" title="Enable/Disable handling of UPDATE BINARY inside card emulation layer. ">PHCE_T4T_CONFIG_HANDLE_UPDATEBINARY</a> and <a class="el" href="../../da/da7/group__phceT4T.html#ga66de4c9cbc26c6e410daf9332dffec63" title="Enable/Disable support for proprietary command. ">PHCE_T4T_CONFIG_RECEIVE_PROPRIETARY</a>, UPDATE BINARY and PROPRIETARY commands are handled by itself or given to application thread (i.e. <a class="el" href="../../da/da7/group__phceT4T.html#ga1f49814fa674b1db5b24f81a29434736">phceT4T_AppProcessCmd</a>) for handling.</p>
<p>Waiting Time eXtension (WTX) is handled internally by this function. This function can be used in single threaded non RTOS environment if UPDATE BINARY and proprietary commands are configured to be handled by this function itself (i.e. with no application thread present). WTX is not supported in single threaded environment.</p>
<p><a class="el" href="../../da/da7/group__phceT4T.html#gae0ec0aafc52127714dedd45e0338ea1f">phceT4T_Activate</a> shall be called only after successful activation of ISO 14443-4 card layer <a class="el" href="../../d9/ddf/group__phpalI14443p4mC.html#ga1af31cbf8aab270c4afeb1a8b20904d1">phpalI14443p4mC_Activate</a>. This API exits only on error from lower layers, ABORT, external RF OFF or DESELECT.</p>
<p>Application shall use some synchronization mechanism like mutex or semaphore to synchronize between application thread and reader library thread (i.e. to synchronize entry to and exit from <a class="el" href="../../da/da7/group__phceT4T.html#gae0ec0aafc52127714dedd45e0338ea1f">phceT4T_Activate</a> and <a class="el" href="../../da/da7/group__phceT4T.html#ga1f49814fa674b1db5b24f81a29434736">phceT4T_AppProcessCmd</a>).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pDataParams</td><td>Pointer to this layer's parameter structure <a class="el" href="../../d7/dbd/group__phceT4T__Sw.html#ga43d66dd8c05b41ce4799b97c96740d2e">phceT4T_Sw_DataParams_t</a>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Status code </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="../../dc/dce/group__ph__Error.html#gad1a52bfb50490c2348b9e4dbeb8cda06" title="DSL is sent for de-selection of target. ">PH_ERR_SUCCESS_DESELECTED</a></td><td>Tag DESELECTED. Tag got successfully DESELECTED after receiving DESELECT request from the reader. </td></tr>
    <tr><td class="paramname"><a class="el" href="../../dc/dce/group__ph__Error.html#ga189f7e540d69dec8a68b28da6a881338" title="Error due to External RF. ">PH_ERR_EXT_RF_ERROR</a></td><td>External RF field is OFF. </td></tr>
    <tr><td class="paramname"><a class="el" href="../../dc/dce/group__ph__Error.html#ga06919fa8e25e1984a311864af434fa7d" title="Used when HAL ShutDown is called. ">PH_ERR_ABORTED</a></td><td>Aborted due to <a class="el" href="../../d6/d78/group__phhalHw.html#ga4c05e410002359db850d63dbf358e15f">HAL shutdown</a>. </td></tr>
    <tr><td class="paramname"><a class="el" href="../../dc/dce/group__ph__Error.html#ga7cdeb5fe953e5d2673ed5b273ca02b39" title="Invalid data parameters supplied (layer id check failed). ">PH_ERR_INVALID_DATA_PARAMS</a></td><td>Invalid data parameter. The provided data parameter (pDataParams) is invalid or this layer is not <a class="el" href="../../d7/dbd/group__phceT4T__Sw.html#initialization">initialized</a>. </td></tr>
    <tr><td class="paramname">Other</td><td>Error from underlying components.</td></tr>
  </table>
  </dd>
</dl>
<p><b>Usage:</b> </p>
<p><b>Reader Library Thread (Block Diagram):</b></p>
<div class="image">
<img src="../../hce_rdlib_thread.png" alt="hce_rdlib_thread.png"/>
</div>
<p><b>Reader Library Thread (Sample Code):</b></p>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> TReaderLibrary(<span class="keywordtype">void</span> *pParams)</div><div class="line">{</div><div class="line">    phStatus_t  status = 0;</div><div class="line"></div><div class="line">    <span class="comment">// Set CC File.</span></div><div class="line">    status = <a class="code" href="../../da/da7/group__phceT4T.html#gac5730508b97560ca2f69bc315e176914">phceT4T_SetElementaryFile</a>(</div><div class="line">        &amp;sceT4T,</div><div class="line">        <a class="code" href="../../da/da7/group__phceT4T.html#ga22551ed3294329158c52d65d9742524a">PHCE_T4T_FILE_CC</a>,</div><div class="line">        aCcFile,</div><div class="line">        0xE103,</div><div class="line">        <span class="keyword">sizeof</span>(aCcFile),</div><div class="line">        wCcFileContentLength);</div><div class="line"></div><div class="line">    <span class="comment">// Set NDEF File.</span></div><div class="line">    status = <a class="code" href="../../da/da7/group__phceT4T.html#gac5730508b97560ca2f69bc315e176914">phceT4T_SetElementaryFile</a>(</div><div class="line">        &amp;sceT4T,</div><div class="line">        <a class="code" href="../../da/da7/group__phceT4T.html#gaf63d56bc164c7e89919c5a81733c57eb">PHCE_T4T_FILE_NDEF</a>,</div><div class="line">        aNdefFile,</div><div class="line">        wNdefFileId,</div><div class="line">        <span class="keyword">sizeof</span>(aNdefFile),</div><div class="line">        wNdefFileContentLength);</div><div class="line"></div><div class="line">    <span class="comment">// Loop always in listen mode.</span></div><div class="line">    <span class="keywordflow">while</span>(1)</div><div class="line">    {</div><div class="line">        <span class="comment">// Start discovery loop in listen mode</span></div><div class="line">        status = <a class="code" href="../../d6/d5a/group__phacDiscLoop.html#ga487fb948fdd01c4946139463490ec37c">phacDiscLoop_Run</a>(</div><div class="line">            &amp;sDiscLoop,</div><div class="line">            <a class="code" href="../../d5/daa/group__phacDiscLoop__Sw.html#gga5271e388ceaf3c0343eee9572d05d73dac8f226c18d2dfeeb0ba90f0e61b87af2">PHAC_DISCLOOP_ENTRY_POINT_LISTEN</a>);</div><div class="line">        <span class="keywordflow">if</span>((status &amp; PH_ERR_MASK) != <a class="code" href="../../d5/daa/group__phacDiscLoop__Sw.html#ga528a83c38fff0da352f2d4a9ea2d4dc1">PHAC_DISCLOOP_ACTIVATED_BY_PEER</a>)</div><div class="line">        {</div><div class="line">            <span class="keywordflow">goto</span> reset_tag;</div><div class="line">        }</div><div class="line"></div><div class="line">        <span class="comment">// Validate RATS and send ATS.</span></div><div class="line">        status = <a class="code" href="../../d9/ddf/group__phpalI14443p4mC.html#ga1af31cbf8aab270c4afeb1a8b20904d1">phpalI14443p4mC_Activate</a>(</div><div class="line">            &amp;spalI14443p4mC,</div><div class="line">            pRxBuf,</div><div class="line">            wRxBufLen,</div><div class="line">            aAtsRes,</div><div class="line">            wAtsLength);</div><div class="line">        <span class="keywordflow">if</span>((status &amp; PH_ERR_MASK) != <a class="code" href="../../dc/dce/group__ph__Error.html#ga6632f0657ed69bfa8a8910555a7819ac">PH_ERR_SUCCESS</a>)</div><div class="line">        {</div><div class="line">            <span class="keywordflow">goto</span> reset_tag;</div><div class="line">        }</div><div class="line"></div><div class="line">        <span class="comment">// Trigger phceT4T_AppProcessCmd in Application thread to start.</span></div><div class="line">        status = phOsal_Semaphore_Give(appstart);</div><div class="line"></div><div class="line">        <span class="comment">// Activate HCE.</span></div><div class="line">        status = <a class="code" href="../../da/da7/group__phceT4T.html#gae0ec0aafc52127714dedd45e0338ea1f">phceT4T_Activate</a>(&amp;sceT4T);</div><div class="line"></div><div class="line">        <span class="comment">// Wait for phceT4T_AppProcessCmd in Application thread to exit.</span></div><div class="line">        status = phOsal_Semaphore_Take(appexit, 0xFFFFFFFF);</div><div class="line"></div><div class="line">reset_tag:</div><div class="line">        <span class="comment">// Reset Reader library layers.</span></div><div class="line">        (void)<a class="code" href="../../d9/ddf/group__phpalI14443p4mC.html#ga92756855a1e2083ac13323b7d5a6f269">phpalI14443p4mC_ResetProtocol</a>(&amp;spalI14443p4mC);</div><div class="line">        (void)<a class="code" href="../../da/da7/group__phceT4T.html#ga387d7d27fba7788c6ee852e649787fac">phceT4T_Reset</a>(&amp;sceT4T);</div><div class="line"></div><div class="line">        <span class="comment">// Clear all events from all sources.</span></div><div class="line">        (void)phOsEventClear(pDataParams-&gt;Eventhandle, E_OS_EVENT_OPT_NONE, E_PH_OSAL_EVT_ALL, NULL);</div><div class="line"></div><div class="line">    }</div><div class="line">}</div></div><!-- fragment --> 
</div>
</div>
<a id="gabb51c13921a3ade58cfc3b4699705c3a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gabb51c13921a3ade58cfc3b4699705c3a">&sect;&nbsp;</a></span>phceT4T_ProcessCmd()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">phStatus_t phceT4T_ProcessCmd </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>pDataParams</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d7/d83/group__ph__Typedefs.html#ga273cf69d639a59973b6019625df33e30">uint16_t</a>&#160;</td>
          <td class="paramname"><em>wOption</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d7/d83/group__ph__Typedefs.html#gaba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> *&#160;</td>
          <td class="paramname"><em>pRxData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d7/d83/group__ph__Typedefs.html#ga273cf69d639a59973b6019625df33e30">uint16_t</a>&#160;</td>
          <td class="paramname"><em>wRxDataLen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d7/d83/group__ph__Typedefs.html#ga273cf69d639a59973b6019625df33e30">uint16_t</a> *&#160;</td>
          <td class="paramname"><em>pStatusWord</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d7/d83/group__ph__Typedefs.html#gaba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> **&#160;</td>
          <td class="paramname"><em>ppTxData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d7/d83/group__ph__Typedefs.html#ga273cf69d639a59973b6019625df33e30">uint16_t</a> *&#160;</td>
          <td class="paramname"><em>pTxDataLen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Validate and process the received C-APDU (Command Application Protocol Data Unit). </p>
<p>If RTOS is not used, then this API shall be called directly by the application in the only existing application task. In multi-threaded application or when <a class="el" href="../../da/da7/group__phceT4T.html#gae0ec0aafc52127714dedd45e0338ea1f">phceT4T_Activate</a> is used by application, this API will be called internally by <a class="el" href="../../da/da7/group__phceT4T.html#gae0ec0aafc52127714dedd45e0338ea1f">phceT4T_Activate</a>.</p>
<p>Data received from <a class="el" href="../../d9/ddf/group__phpalI14443p4mC.html#ga03d1c85e077032ecafa2f758ae8d5f84">phpalI14443p4mC_Receive</a> (C-APDU) shall be passed to this API for validation and processing. The out data parameters, pStatusWord and ppTxData (R-APDU) shall be send to reader using <a class="el" href="../../d9/ddf/group__phpalI14443p4mC.html#gacebf6b9dfb711ae5ed4a5d8983a93a6d">phpalI14443p4mC_Transmit</a>.</p>
<p>SELECT and READ BINARY commands are validated and processed by this API. Proprietary commands (commands with unsupported instruction byte) are not processed and the whole C-APDU (Command Application Protocol Data Unit) is returned back in out parameter (ppTxData). For UPDATE BINARY command the file will be updated if <a class="el" href="../../da/da7/group__phceT4T.html#ga16ab13012d7bc6918b34df37ba551f8c" title="Enable/Disable handling of UPDATE BINARY inside card emulation layer. ">PHCE_T4T_CONFIG_HANDLE_UPDATEBINARY</a> is enabled else data to be written to file and data length is returned in out parameters ppTxData and pTxDataLen respectively.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pDataParams</td><td>Pointer to this layer's parameter structure <a class="el" href="../../d7/dbd/group__phceT4T__Sw.html#ga43d66dd8c05b41ce4799b97c96740d2e">phceT4T_Sw_DataParams_t</a>.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">wOption</td><td><a class="el" href="../../da/da7/group__phceT4T.html#options">Received Option</a>. This indicates if the received data (pRxData) is complete or partial.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pRxData</td><td>Received data (C-APDU). Data (Command) received from reader side. Data can be received from reader using <a class="el" href="../../d9/ddf/group__phpalI14443p4mC.html#ga03d1c85e077032ecafa2f758ae8d5f84">phpalI14443p4mC_Receive</a> and passed to this API for processing.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">wRxDataLen</td><td>Received data length. Length of pRxData.</td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">pStatusWord</td><td>Status Word. Contains status word SW1 and SW2 (last 2 bytes of R-APDU to be send back to reader). For example a value of 0x9000 indicates that the received data (C-APDU) is valid and processed successfully. For a complete list of values refer ISO 7816-4 specification.</td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">ppTxData</td><td>Data to be transmitted back to the reader. Contains the data field of R-APDU. This will be set to NULL if data field is not needed in R-APDU.</td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">pTxDataLen</td><td>Length of data to be transmitted back to reader (length of R-APDU data field ppTxData). This will be set to 0 if ppTxData is NULL (i.e. no data field in R-APDU).</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Status code </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="../../da/da7/group__phceT4T.html#ga673beb1ad7c5a188bed80b1d9a0a6ea5" title="SELECT command received. ">PH_CE_T4T_SELECT</a></td><td>File selected. </td></tr>
    <tr><td class="paramname"><a class="el" href="../../da/da7/group__phceT4T.html#gadadbfa86625a3704300da6a5d5f10432" title="READ BINARY command received. ">PH_CE_T4T_READ_BINARY</a></td><td>File read. </td></tr>
    <tr><td class="paramname"><a class="el" href="../../da/da7/group__phceT4T.html#gaabf84968caff0ac61babd5f4fe2d6001" title="UPDATE BINARY command received. ">PH_CE_T4T_UPDATE_BINARY</a></td><td>Update Binary received or file updated (if <a class="el" href="../../da/da7/group__phceT4T.html#ga16ab13012d7bc6918b34df37ba551f8c" title="Enable/Disable handling of UPDATE BINARY inside card emulation layer. ">PHCE_T4T_CONFIG_HANDLE_UPDATEBINARY</a> is enabled). </td></tr>
    <tr><td class="paramname"><a class="el" href="../../da/da7/group__phceT4T.html#gadf3bf3d727264b2a2f2764f78f2aa545" title="Proprietary command received. ">PH_CE_T4T_PROPRIETARY</a></td><td>Proprietary C-APDU received. </td></tr>
    <tr><td class="paramname"><a class="el" href="../../da/da7/group__phceT4T.html#gad817436e7335e3576892893fb7b9d6cb" title="Failure. ">PH_CE_T4T_FAILURE</a></td><td>Unsupported C-APDU / Error. Check status word (pStatusWord) to get the actual type of error. </td></tr>
    <tr><td class="paramname"><a class="el" href="../../dc/dce/group__ph__Error.html#ga7cdeb5fe953e5d2673ed5b273ca02b39" title="Invalid data parameters supplied (layer id check failed). ">PH_ERR_INVALID_DATA_PARAMS</a></td><td>Invalid data parameter. The provided data parameter (pDataParams) is invalid or this layer is not <a class="el" href="../../d7/dbd/group__phceT4T__Sw.html#initialization">initialized</a>. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga1f49814fa674b1db5b24f81a29434736"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1f49814fa674b1db5b24f81a29434736">&sect;&nbsp;</a></span>phceT4T_AppProcessCmd()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">phStatus_t phceT4T_AppProcessCmd </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>pDataParams</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/da7/group__phceT4T.html#ga1a278f972ee837e90169e802b9d42acc">phceT4T_AppCallback_t</a>&#160;</td>
          <td class="paramname"><em>pAppCallback</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Application process command. </p>
<p>This shall be called from the application thread when RTOS / multiple threads are used. Based on configuration options <a class="el" href="../../da/da7/group__phceT4T.html#ga16ab13012d7bc6918b34df37ba551f8c" title="Enable/Disable handling of UPDATE BINARY inside card emulation layer. ">PHCE_T4T_CONFIG_HANDLE_UPDATEBINARY</a> and <a class="el" href="../../da/da7/group__phceT4T.html#ga66de4c9cbc26c6e410daf9332dffec63" title="Enable/Disable support for proprietary command. ">PHCE_T4T_CONFIG_RECEIVE_PROPRIETARY</a>, UPDATE BINARY and PROPRIETARY commands are handled by <a class="el" href="../../da/da7/group__phceT4T.html#gae0ec0aafc52127714dedd45e0338ea1f">phceT4T_Activate</a> or by this API.</p>
<p>If UPDATE BINARY needs some special write methods (i.e. if files are in EEPROM) or if some proprietary commands needs to be supported then application callback <a class="el" href="../../da/da7/group__phceT4T.html#ga1a278f972ee837e90169e802b9d42acc">phceT4T_AppCallback_t</a> shall be provided for that. Else callback shall be set to NULL.</p>
<p>This API exits only on error from lower layers, ABORT, external RF OFF or DESELECT. Application shall use some synchronization mechanism like mutex or semaphore to synchronize between application thread and reader library thread (i.e. to synchronize entry to and exit from <a class="el" href="../../da/da7/group__phceT4T.html#gae0ec0aafc52127714dedd45e0338ea1f">phceT4T_Activate</a> and <a class="el" href="../../da/da7/group__phceT4T.html#ga1f49814fa674b1db5b24f81a29434736">phceT4T_AppProcessCmd</a>).</p>
<p>When <a class="el" href="../../da/da7/group__phceT4T.html#gae0ec0aafc52127714dedd45e0338ea1f">phceT4T_Activate</a> returns in reader library thread, this API will return with same status in application thread.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pDataParams</td><td>Pointer to this layer's parameter structure <a class="el" href="../../d7/dbd/group__phceT4T__Sw.html#ga43d66dd8c05b41ce4799b97c96740d2e">phceT4T_Sw_DataParams_t</a>.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pAppCallback</td><td><a class="el" href="../../da/da7/group__phceT4T.html#appcallback">Application callback</a>. Application callback to handle UPDATE BINARY and proprietary commands. Can be set to NULL if not used.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Status code </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="../../dc/dce/group__ph__Error.html#gad1a52bfb50490c2348b9e4dbeb8cda06" title="DSL is sent for de-selection of target. ">PH_ERR_SUCCESS_DESELECTED</a></td><td>Tag DESELECTED. Tag got successfully DESELECTED after receiving DESELECT request from the reader. </td></tr>
    <tr><td class="paramname"><a class="el" href="../../dc/dce/group__ph__Error.html#ga189f7e540d69dec8a68b28da6a881338" title="Error due to External RF. ">PH_ERR_EXT_RF_ERROR</a></td><td>External RF field is OFF. </td></tr>
    <tr><td class="paramname"><a class="el" href="../../dc/dce/group__ph__Error.html#ga06919fa8e25e1984a311864af434fa7d" title="Used when HAL ShutDown is called. ">PH_ERR_ABORTED</a></td><td>Aborted due to <a class="el" href="../../d6/d78/group__phhalHw.html#ga4c05e410002359db850d63dbf358e15f">HAL shutdown</a>. </td></tr>
    <tr><td class="paramname"><a class="el" href="../../dc/dce/group__ph__Error.html#ga7cdeb5fe953e5d2673ed5b273ca02b39" title="Invalid data parameters supplied (layer id check failed). ">PH_ERR_INVALID_DATA_PARAMS</a></td><td>Invalid data parameter. The provided data parameter (pDataParams) is invalid or this layer is not <a class="el" href="../../d7/dbd/group__phceT4T__Sw.html#initialization">initialized</a>. </td></tr>
    <tr><td class="paramname">Other</td><td>Error from underlying components.</td></tr>
  </table>
  </dd>
</dl>
<p><b>Usage:</b> </p>
<p><b>Application Thread (Block Diagram):</b></p>
<div class="image">
<img src="../../hce_app_thread.png" alt="hce_app_thread.png"/>
</div>
<p><b>Application Thread (Sample Code):</b> </p><div class="fragment"><div class="line"><span class="keywordtype">void</span> TApplication(<span class="keywordtype">void</span> *pParams)</div><div class="line">{</div><div class="line">    phStatus_t  status;</div><div class="line"></div><div class="line">    <span class="keywordflow">while</span>(1)</div><div class="line">    {</div><div class="line">        <span class="comment">// Wait for trigger from reader library thread to start.</span></div><div class="line">        status = phOsal_Semaphore_Take(appstart, 0xFFFFFFFF);</div><div class="line"></div><div class="line">        <span class="comment">// Start Application processing of HCE.</span></div><div class="line">        status = <a class="code" href="../../da/da7/group__phceT4T.html#ga1f49814fa674b1db5b24f81a29434736">phceT4T_AppProcessCmd</a>(&amp;sceT4T, AppCallback);</div><div class="line"></div><div class="line">        <span class="comment">// Trigger reader lib thread about the phceT4T_AppProcessCmd exit.</span></div><div class="line">        status = phOsal_Semaphore_Give(appexit);</div><div class="line">    }</div><div class="line">}</div></div><!-- fragment --> 
</div>
</div>
<a id="ga632ea61d0cfa78722b1685701e88ff5a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga632ea61d0cfa78722b1685701e88ff5a">&sect;&nbsp;</a></span>phceT4T_GetSelectedFileInfo()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">phStatus_t phceT4T_GetSelectedFileInfo </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>pDataParams</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d7/d83/group__ph__Typedefs.html#ga273cf69d639a59973b6019625df33e30">uint16_t</a> *&#160;</td>
          <td class="paramname"><em>pFileId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d7/d83/group__ph__Typedefs.html#gaba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> **&#160;</td>
          <td class="paramname"><em>ppFile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d7/d83/group__ph__Typedefs.html#ga435d1572bf3f880d55459d9805097f62">uint32_t</a> *&#160;</td>
          <td class="paramname"><em>pFileSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d7/d83/group__ph__Typedefs.html#gaba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> *&#160;</td>
          <td class="paramname"><em>pWriteAccess</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d7/d83/group__ph__Typedefs.html#ga435d1572bf3f880d55459d9805097f62">uint32_t</a> *&#160;</td>
          <td class="paramname"><em>pFileOffset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get information about currently selected file. </p>
<p>Application shall use this to get information about currently selected file when UPDATE BINARY and proprietary commands are handled by <a class="el" href="../../da/da7/group__phceT4T.html#appcallback">application callback</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pDataParams</td><td>Pointer to this layer's parameter structure <a class="el" href="../../d7/dbd/group__phceT4T__Sw.html#ga43d66dd8c05b41ce4799b97c96740d2e">phceT4T_Sw_DataParams_t</a>.</td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">pFileId</td><td>ID of selected file. Used to pass back the ID of currently selected file.</td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">ppFile</td><td>Pointer to selected file. Used to pass back the pointer to currently selected file.</td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">pFileSize</td><td>Size of selected file. Used to pass back the size of currently selected file.</td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">pWriteAccess</td><td>Write access of selected file. Used to pass back the write access of currently selected file. Only 0x00 and 0xFF are the supported vales. 0x00 - write access with out any restriction. 0xFF - no write access (read only file). All other values are RFU (not used).</td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">pFileOffset</td><td>Used to pass back the offset of currently selected file from where it should be updated. This is valid only for UPDATE BINARY command. Application shall update the selected file (ppFile) starting from this offset (pFileOffset) for UPDATE BINARY command. When processing proprietary commands, value of this parameter shall be ignored as whole command (C-APDU) is processed by application callback itself.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Status code </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="../../dc/dce/group__ph__Error.html#ga6632f0657ed69bfa8a8910555a7819ac" title="Returned in case of no error. ">PH_ERR_SUCCESS</a></td><td>Operation successful. </td></tr>
    <tr><td class="paramname"><a class="el" href="../../dc/dce/group__ph__Error.html#ga7cdeb5fe953e5d2673ed5b273ca02b39" title="Invalid data parameters supplied (layer id check failed). ">PH_ERR_INVALID_DATA_PARAMS</a></td><td>Invalid data parameter. The provided data parameter (pDataParams) is invalid or this layer is not <a class="el" href="../../d7/dbd/group__phceT4T__Sw.html#initialization">initialized</a>. </td></tr>
    <tr><td class="paramname"><a class="el" href="../../da/da7/group__phceT4T.html#ga7bb18892b56945c0b3281f7b8e8ce3e1" title="Tag in invalid state to execute the requested operation. ">PH_CE_T4T_INVALID_STATE</a></td><td>Invalid State. Operation not supported in current tag state (i.e. no files are in selected state). </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga387d7d27fba7788c6ee852e649787fac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga387d7d27fba7788c6ee852e649787fac">&sect;&nbsp;</a></span>phceT4T_Reset()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">phStatus_t phceT4T_Reset </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>pDataParams</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reset the tag's state variables. </p>
<p>Application shall use this to reset variables and data parameters of tag after one cycle of operation or on error (i.e. after /ref phceT4T_Activate exists).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pDataParams</td><td>Pointer to this layer's parameter structure <a class="el" href="../../d7/dbd/group__phceT4T__Sw.html#ga43d66dd8c05b41ce4799b97c96740d2e">phceT4T_Sw_DataParams_t</a>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Status code </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="../../dc/dce/group__ph__Error.html#ga6632f0657ed69bfa8a8910555a7819ac" title="Returned in case of no error. ">PH_ERR_SUCCESS</a></td><td>Operation successful. </td></tr>
    <tr><td class="paramname"><a class="el" href="../../dc/dce/group__ph__Error.html#ga7cdeb5fe953e5d2673ed5b273ca02b39" title="Invalid data parameters supplied (layer id check failed). ">PH_ERR_INVALID_DATA_PARAMS</a></td><td>Invalid data parameter. The provided data parameter (pDataParams) is invalid or this layer is not <a class="el" href="../../d7/dbd/group__phceT4T__Sw.html#initialization">initialized</a>. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gad68eb22ef02050f922c69dba8ace8626"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad68eb22ef02050f922c69dba8ace8626">&sect;&nbsp;</a></span>phceT4T_SetConfig()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">phStatus_t phceT4T_SetConfig </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>pDataParams</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d7/d83/group__ph__Typedefs.html#ga273cf69d639a59973b6019625df33e30">uint16_t</a>&#160;</td>
          <td class="paramname"><em>wConfig</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d7/d83/group__ph__Typedefs.html#ga273cf69d639a59973b6019625df33e30">uint16_t</a>&#160;</td>
          <td class="paramname"><em>wValue</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set value of the specified <a class="el" href="../../da/da7/group__phceT4T.html#configurations">configuration</a>identifier". </p>
<p>The SetConfig command is used to set values for the different configuration parameters of this layer.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pDataParams</td><td>Pointer to this layer's parameter structure <a class="el" href="../../d7/dbd/group__phceT4T__Sw.html#ga43d66dd8c05b41ce4799b97c96740d2e">phceT4T_Sw_DataParams_t</a>.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">wConfig</td><td><a class="el" href="../../da/da7/group__phceT4T.html#configurations">Configuration Identifier</a>. Specify the configuration identifier to be set.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">wValue</td><td>Configuration Value. Value to be set for the specified <a class="el" href="../../da/da7/group__phceT4T.html#configurations">configuration identifier</a> (wConfig).</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Status code </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="../../dc/dce/group__ph__Error.html#ga6632f0657ed69bfa8a8910555a7819ac" title="Returned in case of no error. ">PH_ERR_SUCCESS</a></td><td>Operation successful. </td></tr>
    <tr><td class="paramname"><a class="el" href="../../dc/dce/group__ph__Error.html#ga7cdeb5fe953e5d2673ed5b273ca02b39" title="Invalid data parameters supplied (layer id check failed). ">PH_ERR_INVALID_DATA_PARAMS</a></td><td>Invalid data parameter. The provided data parameter (pDataParams) is invalid or this layer is not <a class="el" href="../../d7/dbd/group__phceT4T__Sw.html#initialization">initialized</a>. </td></tr>
    <tr><td class="paramname"><a class="el" href="../../dc/dce/group__ph__Error.html#ga1633909d9301520a863fc8e9d185f9bc" title="Invalid parameter supplied. ">PH_ERR_INVALID_PARAMETER</a></td><td>Parameter value or configuration option is invalid. </td></tr>
    <tr><td class="paramname"><a class="el" href="../../da/da7/group__phceT4T.html#ga7bb18892b56945c0b3281f7b8e8ce3e1" title="Tag in invalid state to execute the requested operation. ">PH_CE_T4T_INVALID_STATE</a></td><td>Invalid state. Operation not supported in current tag state. Refer <a class="el" href="../../da/da7/group__phceT4T.html#configurations">configuration options</a> to known when each configuration can be set. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga52acbcaa7dcabb3e1afebbe49d614c89"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga52acbcaa7dcabb3e1afebbe49d614c89">&sect;&nbsp;</a></span>phceT4T_GetConfig()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">phStatus_t phceT4T_GetConfig </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>pDataParams</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d7/d83/group__ph__Typedefs.html#ga273cf69d639a59973b6019625df33e30">uint16_t</a>&#160;</td>
          <td class="paramname"><em>wConfig</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d7/d83/group__ph__Typedefs.html#ga273cf69d639a59973b6019625df33e30">uint16_t</a> *&#160;</td>
          <td class="paramname"><em>pValue</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get value of the specified <a class="el" href="../../da/da7/group__phceT4T.html#configurations">configuration</a>identifier". </p>
<p>The GetConfig command is used to retrieve values of different configuration parameters of this layer.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pDataParams</td><td>Pointer to this layer's parameter structure <a class="el" href="../../d7/dbd/group__phceT4T__Sw.html#ga43d66dd8c05b41ce4799b97c96740d2e">phceT4T_Sw_DataParams_t</a>.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">wConfig</td><td><a class="el" href="../../da/da7/group__phceT4T.html#configurations">Configuration Identifier</a>. Specify the configuration identifier for which value to be retrieved.</td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">pValue</td><td>Configuration Value. Used to pass back the value of the specified <a class="el" href="../../da/da7/group__phceT4T.html#configurations">configuration identifier</a> (wConfig).</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Status code </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="../../dc/dce/group__ph__Error.html#ga6632f0657ed69bfa8a8910555a7819ac" title="Returned in case of no error. ">PH_ERR_SUCCESS</a></td><td>Operation successful. </td></tr>
    <tr><td class="paramname"><a class="el" href="../../dc/dce/group__ph__Error.html#ga7cdeb5fe953e5d2673ed5b273ca02b39" title="Invalid data parameters supplied (layer id check failed). ">PH_ERR_INVALID_DATA_PARAMS</a></td><td>Invalid data parameter. The provided data parameter (pDataParams) is invalid or this layer is not <a class="el" href="../../d7/dbd/group__phceT4T__Sw.html#initialization">initialized</a>. </td></tr>
    <tr><td class="paramname"><a class="el" href="../../dc/dce/group__ph__Error.html#ga1633909d9301520a863fc8e9d185f9bc" title="Invalid parameter supplied. ">PH_ERR_INVALID_PARAMETER</a></td><td>Parameter value or configuration option is invalid. </td></tr>
    <tr><td class="paramname"><a class="el" href="../../da/da7/group__phceT4T.html#ga7bb18892b56945c0b3281f7b8e8ce3e1" title="Tag in invalid state to execute the requested operation. ">PH_CE_T4T_INVALID_STATE</a></td><td>Invalid state. Operation not supported in current tag state. Refer <a class="el" href="../../da/da7/group__phceT4T.html#configurations">configuration options</a> to known when each configuration value can be retrieved. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.12 </li>
  </ul>
</div>
</body>
</html>
